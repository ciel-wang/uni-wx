{"version":3,"sources":["webpack:///F:/HWD/test/pageOther/book-details-item.vue?a326","webpack:///F:/HWD/test/pageOther/book-details-item.vue?f715","webpack:///F:/HWD/test/pageOther/book-details-item.vue?e975","webpack:///F:/HWD/test/pageOther/book-details-item.vue?59d7","uni-app:///pageOther/book-details-item.vue","webpack:///F:/HWD/test/pageOther/book-details-item.vue?8d83"],"names":["renderjs","component","options","__file","components","uImage","uReadMore","uParse","uGap","uIcon","uButton","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g1","_self","_c","bookListEctypes","length","l0","__map","item","index","$orig","__get_orig","m0","formatterLabel","bookState","g0","borrowEndDate","substr","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","bookInfo","bookStateDic","value","label","bookListId","methods","load","openComponts","id","coverImg","bookName","bookAuthor","borrowCount","bookContent","isCollect","typeName","yjCount","collectClick","type","borrowInAdvanceClick"],"mappings":"6HAAA,uIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,2CCvBf,wQ,kCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,mHAITC,UAAW,WACT,OAAO,4HAITC,OAAQ,WACN,OAAO,oHAITC,KAAM,WACJ,OAAO,+GAITC,MAAO,WACL,OAAO,iHAITC,QAAS,WACP,OAAO,qHAITC,OAAQ,WACN,OAAO,gFAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,gBAAgBC,QACzBC,EAAKT,EAAIU,MAAMV,EAAIO,iBAAiB,SAAUI,EAAMC,GACtD,IAAIC,EAAQb,EAAIc,WAAWH,GACvBI,EAAKf,EAAIgB,eAAeL,EAAKM,WAC7BC,EAAKP,EAAKQ,cAAcC,OAAO,EAAG,IACtC,MAAO,CACLP,MAAOA,EACPE,GAAIA,EACJG,GAAIA,MAGRlB,EAAIqB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLrB,GAAIA,EACJK,GAAIA,MAKRiB,GAAmB,EACnBC,EAAkB,GACtB5B,EAAO6B,eAAgB,G,kCCnFvB,0HAAypB,eAAG,G,oGCkE5pB,a,EAEA,CACAN,gBACA,OACAO,YACAtB,mBACAuB,cACA,CAAAC,QAAAC,YACA,CAAAD,QAAAC,YACA,CAAAD,QAAAC,YACA,CAAAD,QAAAC,YACA,CAAAD,QAAAC,YACA,CAAAD,QAAAC,aAEAC,eAGAC,SACAC,gBACAtC,sBACA,6BAEAuC,yBAAA,WACA,mBACA,qBAAAC,OAAA,kBACA,kBAAAC,aAAAC,aAAAC,eAAAC,gBAAAC,gBAAAC,cAAAC,aAAAC,YAAAtC,oBACA,YAAA+B,WAAAC,WAAAC,aAAAC,cAAAC,cAAAC,YAAAC,WAAAC,WACA,wBACA,wBACA,gCAIA7B,2BACA,+DACA,qBAEA8B,wBAAA,YACA,sBAAAb,6BAAA,kBACA,qBAAAtC,mBAAAoD,iBACA,8CACA,mBACA,qBAAApD,UAAAoD,mBAGAC,gCACA,4BAGA,a,kCCpHA,0HAA+8B,eAAG,G","file":"pageOther/book-details-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./book-details-item.vue?vue&type=template&id=32fd9d94&scoped=true&\"\nvar renderjs\nimport script from \"./book-details-item.vue?vue&type=script&lang=js&\"\nexport * from \"./book-details-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./book-details-item.vue?vue&type=style&index=0&id=32fd9d94&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32fd9d94\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageOther/book-details-item.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./book-details-item.vue?vue&type=template&id=32fd9d94&scoped=true&\"","var components\ntry {\n  components = {\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-image/u-image\" */ \"@/uni_modules/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uReadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-read-more/u-read-more\" */ \"@/uni_modules/uview-ui/components/u-read-more/u-read-more.vue\"\n      )\n    },\n    uParse: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-parse/u-parse\" */ \"@/uni_modules/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uGap: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-gap/u-gap\" */ \"@/uni_modules/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g1 = _vm.bookListEctypes.length\n  var l0 = _vm.__map(_vm.bookListEctypes, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.formatterLabel(item.bookState)\n    var g0 = item.borrowEndDate.substr(0, 10)\n    return {\n      $orig: $orig,\n      m0: m0,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g1: g1,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./book-details-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./book-details-item.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"height: 100%;width: 100%;\">\r\n\t\t<scroll-view scroll-y style=\"height: calc(100% - 110rpx);width: 100%;\">\r\n\t\t\t<view class=\"u-flex u-col-center bgfff u-p-20 u-m-b-20\">\r\n\t\t\t\t<u-image :src=\"bookInfo.coverImg\" width=\"210rpx\" height=\"300rpx\">\r\n\t\t\t\t\t<view style=\"font-size: 290rpx;color: #c0c4cc;\" slot=\"error\" class=\"custom-icon custom-icon-wodetushu\"></view>\r\n\t\t\t\t</u-image>\r\n\t\t\t\t<view class=\"u-m-l-30\" style=\"width: calc(100% - 220rpx);\">\r\n\t\t\t\t\t<view class=\"fw700 u-line-2 u-m-t-20 u-m-b-20 u-font-36\">{{bookInfo.bookName}}</view>\r\n\t\t\t\t\t<view class=\"u-line-1\">作者：{{bookInfo.bookAuthor}}</view>\r\n\t\t\t\t\t<view class=\"u-line-1 u-m-t-20 u-m-b-20\">分类：{{bookInfo.typeName}}</view>\r\n\t\t\t\t\t<view>已借：{{bookInfo.yjCount}}人次</view>\r\n\t\t\t\t\t<view class=\"u-m-t-20 u-m-b-20 u-flex\">状态：\r\n\t\t\t\t\t\t<text :class=\"[bookInfo.borrowCount > 0 ? 'u-success-dark' : 'u-warning']\">\r\n\t\t\t\t\t\t\t{{bookInfo.borrowCount > 0 ? '可借' : '已借光'}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"bgfff u-p-t-20 u-p-b-20\">\r\n\t\t\t\t<view class=\"tag_class\">图书简介</view>\r\n\t\t\t\t<view class=\"u-p-l-20 u-p-r-20 u-m-t-20\" >\r\n\t\t\t\t\t<u-read-more\r\n\t\t\t\t\t\tref=\"uReadMore\" \r\n\t\t\t\t\t\ttoggle :showHeight=\"200\" \r\n\t\t\t\t\t\tfontSize=\"28rpx\"\r\n\t\t\t\t\t\t:shadowStyle=\"{padding:'30rpx'}\">\r\n\t\t\t\t\t\t<u-parse :content=\"bookInfo.bookContent\" @load=\"load\"></u-parse>\r\n\t\t\t\t\t</u-read-more>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"bgfff u-p-t-20 u-m-t-20 u-p-b-20\">\r\n\t\t\t\t<view class=\"tag_class\">馆藏信息</view>\r\n\t\t\t\t<view class=\"u-relative\" v-for=\"(item,index) in bookListEctypes\" :key=\"index\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tstyle=\"position: absolute;top: 0;right: 20rpx;font-size: 32rpx;\"\r\n\t\t\t\t\t\t:class=\"[item.bookState == 6 ? 'u-error' : 'u-success-dark']\">\r\n\t\t\t\t\t\t{{formatterLabel(item.bookState)}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"u-p-l-20 u-m-t-20\">索书号：{{item.bookIndex}}</view>\r\n\t\t\t\t\t<view class=\"u-p-l-20 u-m-t-20\">架位导航：{{item.libraryName}} {{item.bookPeriodicalsNum}}</view>\r\n\t\t\t\t\t<view class=\"u-p-l-20 u-m-t-20 u-p-b-20\">条码号：{{item.barCode}}</view>\r\n\t\t\t\t\t<view class=\"u-p-l-20 u-p-b-20\" v-show=\"item.borrowEndDate\">预计归还：{{item.borrowEndDate.substr(0,10)}}</view>\r\n\t\t\t\t\t<u-gap height=\"20\" bg-color=\"#f8f8f8\" v-if=\"index != bookListEctypes.length-1\"></u-gap>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<u-gap height=\"20\" class=\"u-p-b-120\" bg-color=\"#f8f8f8\"></u-gap>\r\n\t\t\t\r\n\t\t</scroll-view>\r\n\t\t\r\n\t\t<view class=\"u-flex bgfff foot_class\">\r\n\t\t\t<view class=\"u-width-40 u-text-center\" @click=\"collectClick\">\r\n\t\t\t\t<u-icon name=\"shoucang\" custom-prefix=\"custom-icon\" size=\"40\" :color=\"bookInfo.isCollect ? 'u-error' : ''\"></u-icon>\r\n\t\t\t\t<view>收藏</view>\r\n\t\t\t</view>\r\n\t\t\t<u-button type=\"error\" shape=\"circle\" @click=\"borrowInAdvanceClick\">预借</u-button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t</view>\n</template>\n\n<script>\r\n\timport { reqBookDetails, sendCollectBook } from './library.js'\r\n\t\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tbookInfo:{},\r\n\t\t\t\tbookListEctypes:[],\r\n\t\t\t\tbookStateDic:[\r\n\t\t\t\t\t{value:1,label:\"可借\"},\r\n\t\t\t\t\t{value:2,label:\"破损\"},\r\n\t\t\t\t\t{value:3,label:\"遗失\"},\r\n\t\t\t\t\t{value:4,label:\"保留\"},\r\n\t\t\t\t\t{value:5,label:\"注销\"},\r\n\t\t\t\t\t{value:6,label:\"借出\"}\r\n\t\t\t\t],\r\n\t\t\t\tbookListId:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tload(){\r\n\t\t\t\tconsole.log(22222222);\r\n\t\t\t\tthis.$refs.uReadMore.init();\r\n\t\t\t},\r\n\t\t\topenComponts(id){\r\n\t\t\t\tthis.bookListId = id;\r\n\t\t\t\treqBookDetails({id}).then(r => {\r\n\t\t\t\t\tlet {coverImg,bookName,bookAuthor,borrowCount,bookContent,isCollect,typeName,yjCount,bookListEctypes} = r.data.data;\r\n\t\t\t\t\tthis.bookInfo = {coverImg,bookName,bookAuthor,borrowCount,bookContent,isCollect,typeName,yjCount};\r\n\t\t\t\t\tthis.bookListEctypes = bookListEctypes || [];\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.$refs.uReadMore.init();\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tformatterLabel(value){\r\n\t\t\t\tlet item = this.bookStateDic.find(v => v.value == value);\r\n\t\t\t\treturn item ? item.label : \"\"\r\n\t\t\t},\r\n\t\t\tcollectClick(){\r\n\t\t\t\tsendCollectBook({bookListId:this.bookListId}).then(r => {\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: r.data.msg, type: 'success' })\r\n\t\t\t\t\tthis.bookInfo.isCollect = !this.bookInfo.isCollect;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: 'error' })\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tborrowInAdvanceClick(){\r\n\t\t\t\tthis.$u.toast(\"此功能暂未开放\")\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\n.tag_class{\r\n\tpadding: 20rpx;text-align: center;width: 200rpx;\r\n\tborder-radius: 0 20rpx 20rpx 0;color: #fff;\r\n\tbackground-color: #0D3858;\r\n}\r\n.foot_class{\r\n\twidth: 100%;\r\n\tpadding: 10rpx;\r\n\tbox-sizing: border-box;\r\n}\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./book-details-item.vue?vue&type=style&index=0&id=32fd9d94&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./book-details-item.vue?vue&type=style&index=0&id=32fd9d94&scoped=true&lang=css&\""],"sourceRoot":""}
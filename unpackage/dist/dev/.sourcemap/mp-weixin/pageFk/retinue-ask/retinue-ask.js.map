{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HWD/test/pageFk/retinue-ask/retinue-ask.vue?2cbf","webpack:///F:/HWD/test/pageFk/retinue-ask/retinue-ask.vue?7c16","webpack:///F:/HWD/test/pageFk/retinue-ask/retinue-ask.vue?3bb8","webpack:///F:/HWD/test/pageFk/retinue-ask/retinue-ask.vue?9d18","uni-app:///pageFk/retinue-ask/retinue-ask.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uIcon","uForm","myCard","uFormItem","uInput","myButton","uActionSheet","uKeyboard","uOverlay","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","keyboardNumShow","e1","invitationMinuteExpireShow","e2","e3","e4","recyclableRender","staticRenderFns","_withStripped","data","form","visitorPersonCount","invitationMinuteExpire","invitationMinuteExpireList","value","name","rules","required","trigger","applyForm","maskShow","visitorMaxEmpNum","onReady","onLoad","methods","handleSubmit","uni","type","setTimeout","visitorNo","icon","invitationMinuteExpireConfirm","visitorPersonCountChange","visitorPersonCountBackspace","backClick","delta"],"mappings":"yJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,6HACIC,EADJ,QAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,qCACZ,aAAAF,E,0CCtBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,iHAITC,MAAO,WACL,OAAO,iHAITC,OAAQ,WACN,OAAO,kDAITC,UAAW,WACT,OAAO,2HAITC,OAAQ,WACN,OAAO,mHAITC,SAAU,WACR,OAAO,oDAITC,aAAc,WACZ,OAAO,iIAITC,UAAW,WACT,OAAO,yHAITC,SAAU,WACR,OAAO,uHAITC,OAAQ,WACN,OAAO,gFAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,iBAAkB,GAExBT,EAAIU,GAAK,SAAUF,GACjBR,EAAIW,4BAA6B,GAEnCX,EAAIY,GAAK,SAAUJ,GACjBR,EAAIW,4BAA6B,GAEnCX,EAAIa,GAAK,SAAUL,GACjBR,EAAIS,iBAAkB,GAExBT,EAAIc,GAAK,SAAUN,GACjBR,EAAIS,iBAAkB,KAIxBM,GAAmB,EACnBC,EAAkB,GACtBjB,EAAOkB,eAAgB,G,iCC/FvB,yHAAmpB,eAAG,G,qJCsDtpB,0lBAEA,CACAC,gBACA,OACAC,MAAAC,sBAAAC,2BACAZ,mBACAW,sBACAT,8BACAW,4BACA,CAAAC,QAAAC,aACA,CAAAD,SAAAC,aACA,CAAAD,SAAAC,aACA,CAAAD,SAAAC,aACA,CAAAD,SAAAC,aACA,CAAAD,SAAAC,aACA,CAAAD,SAAAC,cAEAC,OACAL,qBACAM,YACA/B,gBACAgC,4BAEAN,yBACAK,YACA/B,uBAGAiC,aACAC,YACAC,sBAGAC,mBACA,uCAEAC,mBACA,qCACA,iDACA,6BACA,0DACA,6CACA,oCAEAC,SACAC,wBAAA,WACA,6CACA,kCACA,0BACAf,kCACAA,+BAEAA,sCACAA,iEACA,eACA,iCACA,cACAgB,qCACAA,wCACA,qBAAAxC,mBAAAyC,iBACAC,uBACA,sDAAAC,oCACA,QACA,mBACA,cACA,qBAAA3C,UAAAyC,aAAAG,iBAIAC,0CACA,6CACA,0CAEAC,qCACA,gCACA,6BACA,2BACA,uDAGAC,uCACA,iCACA,2FACA,uDAGAC,qBACAR,gBAAAS,aAGA,c","file":"pageFk/retinue-ask/retinue-ask.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pageFk/retinue-ask/retinue-ask.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./retinue-ask.vue?vue&type=template&id=763345a8&\"\nvar renderjs\nimport script from \"./retinue-ask.vue?vue&type=script&lang=js&\"\nexport * from \"./retinue-ask.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageFk/retinue-ask/retinue-ask.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./retinue-ask.vue?vue&type=template&id=763345a8&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    myCard: function () {\n      return import(\n        /* webpackChunkName: \"components/my-card\" */ \"@/components/my-card.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    myButton: function () {\n      return import(\n        /* webpackChunkName: \"components/my-button\" */ \"@/components/my-button.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uKeyboard: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-keyboard/u-keyboard\" */ \"@/uni_modules/uview-ui/components/u-keyboard/u-keyboard.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.keyboardNumShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.invitationMinuteExpireShow = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.invitationMinuteExpireShow = false\n    }\n    _vm.e3 = function ($event) {\n      _vm.keyboardNumShow = false\n    }\n    _vm.e4 = function ($event) {\n      _vm.keyboardNumShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./retinue-ask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./retinue-ask.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<movable-area style=\"width: 100%; height: 100%\">\r\n\t\t  <movable-view direction=\"all\" :out-of-bounds=\"false\">\r\n\t\t    <u-icon name=\"fanhui2\" custom-prefix=\"custom-icon\" size=\"80\" color=\"#909399\" @click=\"backClick\"></u-icon>\r\n\t\t  </movable-view>\r\n\t\t\t\r\n\t\t\t<u-form :model=\"form\" ref=\"uForm\" :border-bottom=\"false\" label-width=\"200\">\r\n\t\t\t\t<my-card :showFoot=\"false\" :showHead=\"false\" margin=\"0 30rpx\">\r\n\t\t\t\t\t<u-form-item label=\"人数\" prop=\"visitorPersonCount\" required @click=\"keyboardNumShow = true\">\r\n\t\t\t\t\t\t<u-input \r\n\t\t\t\t\t\t\t:value=\"visitorPersonCount\" \r\n\t\t\t\t\t\t\tv-model=\"form.visitorPersonCount\" \r\n\t\t\t\t\t\t\t:placeholder=\"`最大可填${visitorMaxEmpNum}人`\"\r\n\t\t\t\t\t\t\tinput-align=\"right\" \r\n\t\t\t\t\t\t\tdisabled disabledColor=\"#ffffff\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<u-form-item label=\"邀请有效时长\" prop=\"invitationMinuteExpire\" required @click=\"invitationMinuteExpireShow = true\">\r\n\t\t\t\t\t\t<u-icon slot=\"right\" name=\"edit-pen\"></u-icon>\r\n\t\t\t\t\t\t<u-input \r\n\t\t\t\t\t\t\tv-model=\"form.invitationMinuteExpireLabel\" \r\n\t\t\t\t\t\t\tdisabled disabledColor=\"#ffffff\" placeholder=\"请选择\" \r\n\t\t\t\t\t\t\tinput-align=\"right\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</my-card>\r\n\t\t\t</u-form>\r\n\t\t</movable-area>\r\n\t\t\r\n\t\t<my-button @click=\"handleSubmit\">生成邀请码</my-button>\r\n\t\t\r\n\t\t<u-action-sheet\r\n\t\t\t:show=\"invitationMinuteExpireShow\" \r\n\t\t\t:actions=\"invitationMinuteExpireList\"\r\n\t\t\ttitle=\"请选择邀请有效时长\"\r\n\t\t\t@close=\"invitationMinuteExpireShow = false\"\r\n\t\t\t@select=\"invitationMinuteExpireConfirm\"></u-action-sheet>\r\n\t\t<u-keyboard\r\n\t\t  ref=\"uKeyboard\" \r\n\t\t  mode=\"number\"\r\n\t\t  :show=\"keyboardNumShow\"\r\n\t\t  @change=\"visitorPersonCountChange\" \r\n\t\t  @backspace=\"visitorPersonCountBackspace\"\r\n\t\t\t@cancel=\"keyboardNumShow = false\"\r\n\t\t\t@confirm=\"keyboardNumShow = false\"></u-keyboard>\r\n\t\t\r\n\t\t<u-overlay :show=\"maskShow\">\r\n\t\t\t<view class=\"w-overlay\">正在提交，请等待...</view>\r\n\t\t</u-overlay>\r\n\t\t<u-toast ref=\"uToast\" />\n\t</view>\n</template>\n\n<script>\r\n\timport { submit } from '../api/apply.js';\r\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tform:{visitorPersonCount:'',invitationMinuteExpire:''},\r\n\t\t\t\tkeyboardNumShow:false,\r\n\t\t\t\tvisitorPersonCount:\"\",\r\n\t\t\t\tinvitationMinuteExpireShow:false,\r\n\t\t\t\tinvitationMinuteExpireList:[\r\n\t\t\t\t\t{value:0,name:\"离访时间\"},\r\n\t\t\t\t\t{value:10,name:\"10分钟\"},\r\n\t\t\t\t\t{value:20,name:\"20分钟\"},\r\n\t\t\t\t\t{value:30,name:\"30分钟\"},\r\n\t\t\t\t\t{value:40,name:\"40分钟\"},\r\n\t\t\t\t\t{value:50,name:\"50分钟\"},\r\n\t\t\t\t\t{value:60,name:\"60分钟\"}\r\n\t\t\t\t],\r\n\t\t\t\trules: {\r\n\t\t\t\t\tvisitorPersonCount:[{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入人数',\r\n\t\t\t\t\t\ttrigger: ['blur','change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tinvitationMinuteExpire:[{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择邀请有效时长',\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tapplyForm:{},\r\n\t\t\t\tmaskShow:false,\r\n\t\t\t\tvisitorMaxEmpNum:99,\r\n\t\t\t}\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.dateType = option.dateType || \"datetime\";\r\n\t\t\tthis.applyForm = uni.getStorageSync('applyForm_key');\r\n\t\t\tlet visitorMaxEmpNum = option.visitorMaxEmpNum || 99;\r\n\t\t\tthis.visitorMaxEmpNum = visitorMaxEmpNum - this.applyForm.visitForm.length + 1;\r\n\t\t\tthis.form.invitationMinuteExpireLabel = \"离访时间\"\r\n\t\t\tthis.form.invitationMinuteExpire = 0;\r\n\t\t},\n\t\tmethods: {\r\n\t\t\thandleSubmit(){\r\n\t\t\t\tthis.$refs.uForm.validate().then(() => {\r\n\t\t\t\t\tlet form = {...this.applyForm,...this.form};\r\n\t\t\t\t\tif(this.dateType === 'datetime'){\r\n\t\t\t\t\t\tform.visitorTime = form.visitorTime + ':00';\r\n\t\t\t\t\t\tform.levalTime = form.levalTime + ':00';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tform.visitors = [...form.visitForm];\r\n\t\t\t\t\tform.visitorPersonCount = form.visitorPersonCount*1 + form.visitForm.length - 1;\r\n\t\t\t\t\tthis.maskShow = true;\r\n\t\t\t\t\tsubmit(form).then(res => {\r\n\t\t\t\t\t\tthis.maskShow = false;\r\n\t\t\t\t\t\tuni.removeStorageSync('applyForm_key');\r\n\t\t\t\t\t\tuni.removeStorageSync('goodsHistory_key');\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: res.data.msg, type: 'success' });\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t  this.$u.route('/pageFk/retinue-details/retinue-details',{visitorNo:res.data.data.visitorNo})\r\n\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.maskShow = false;\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: 'error', icon: false });\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinvitationMinuteExpireConfirm(e){\r\n\t\t\t\tthis.form.invitationMinuteExpireLabel = e.name\r\n\t\t\t\tthis.form.invitationMinuteExpire = e.value;\r\n\t\t\t},\r\n\t\t\tvisitorPersonCountChange(val) {\r\n\t\t\t\tlet s = this.visitorPersonCount + val;\r\n\t\t\t\tif(s*1 <= this.visitorMaxEmpNum){\r\n\t\t\t\t\tthis.visitorPersonCount += val;\r\n\t\t\t\t\tthis.form.visitorPersonCount = this.visitorPersonCount;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvisitorPersonCountBackspace() {\r\n\t\t\t  if (this.visitorPersonCount.length) {\r\n\t\t\t    this.visitorPersonCount = this.visitorPersonCount.substr(0, this.visitorPersonCount.length - 1);\r\n\t\t\t    this.form.visitorPersonCount = this.visitorPersonCount;\r\n\t\t\t  }\r\n\t\t\t},\n\t\t\tbackClick(){\r\n\t\t\t\tuni.navigateBack({ delta:1 })\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n"],"sourceRoot":""}
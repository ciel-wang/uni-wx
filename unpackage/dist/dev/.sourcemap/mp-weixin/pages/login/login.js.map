{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HWD/test/pages/login/login.vue?639d","webpack:///F:/HWD/test/pages/login/login.vue?1707","webpack:///F:/HWD/test/pages/login/login.vue?7d4a","webpack:///F:/HWD/test/pages/login/login.vue?d6bc","uni-app:///pages/login/login.vue","webpack:///F:/HWD/test/pages/login/login.vue?1f3e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uIcon","uGap","uForm","uFormItem","uInput","myButton","uPopup","uSearch","uList","uListItem","uCell","uActionSheet","uOverlay","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","actionSheetShow","e1","selectSchoolShow","e2","recyclableRender","staticRenderFns","_withStripped","data","slogo","schoolName","schoolList","form","bindEmpType","empTypeLabel","empName","empPhone","stuName","empCode","rules","required","trigger","validator","maskShow","btnDisabled","actionSheetData","value","name","onLoad","sname","sid","onReady","methods","submit","desc","success","fail","type","duration","setTimeout","uni","url","schoolListClick","schoolChange","actionSheetChange","backClick"],"mappings":"4IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,MAAO,WACL,OAAO,iHAITC,KAAM,WACJ,OAAO,+GAIT,UAAW,WACT,OAAO,qHAITC,MAAO,WACL,OAAO,iHAITC,UAAW,WACT,OAAO,2HAITC,OAAQ,WACN,OAAO,mHAITC,SAAU,WACR,OAAO,oDAITC,OAAQ,WACN,OAAO,mHAITC,QAAS,WACP,OAAO,qHAITC,MAAO,WACL,OAAO,iHAITC,UAAW,WACT,OAAO,2HAITC,MAAO,WACL,OAAO,iHAITC,aAAc,WACZ,OAAO,iIAITC,SAAU,WACR,OAAO,uHAITC,OAAQ,WACN,OAAO,gFAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,iBAAkB,GAExBT,EAAIU,GAAK,SAAUF,GACjBR,EAAIW,kBAAmB,GAEzBX,EAAIY,GAAK,SAAUJ,GACjBR,EAAIS,iBAAkB,KAIxBI,GAAmB,EACnBC,EAAkB,GACtBf,EAAOgB,eAAgB,G,iCClHvB,yHAA6oB,eAAG,G,kHCkFhpB,a,GACA,OAEA,CACAC,gBAAA,WACA,OACAC,SACAC,cACAP,oBACAQ,cACAC,MAAAC,eAAAC,gBAAAC,WAAAC,YAAAC,WAAAC,YACAC,OACAJ,UACAK,YACAjC,gBACAkC,mBAEAL,WACAI,YACAjC,kBACAkC,kBACA,CACAC,0BACA,4BAEAnC,kBACAkC,mBAEAP,eACAM,YACAjC,gBACAkC,mBAEAJ,UACAG,YACAjC,kBACAkC,mBAEAH,UACAE,YACAjC,oBACAkC,oBAGAE,YACAC,eACAvB,mBACAwB,iBACA,CAAAC,QAAAC,WACA,CAAAD,QAAAC,YACA,CAAAD,QAAAC,cAIAC,kBAAA,YACA,uCACA,kBAEA,GADA,eACA,mBACA,+DACA,sCACA,iCAEA,gCACA,WAAAC,UAAAC,QAAArB,UACA,eACA,UACA,oCAIAsB,mBACA,uCAEAC,SACAC,kBAAA,WACA,6CAEAvE,kBACAwE,gBACAC,oBACA9C,gBAEA+C,iBACA/C,kBASA,iBAEA,cACA,kBACA,wCAEA,GADA,cACA,kBACA,qBAAAF,gBAAAkD,eAAAC,eACA,kBACA,uCACA,kCACA,gFACA,8DACA,kDAQAC,uBASAC,aAAAC,6BAEA,SAEA,mBACA,qBAAAtD,UAAAkD,eACA,cACA,wBAIAK,4BACA,cAAAZ,QAAArB,UACA,kBACA,aACA+B,gCACAA,oCACAA,qCACA,kCACA,0BAEAG,wBACA,6BACA,2BAEAC,8BACA,8BACA,8BACA,4CAEAC,qBACAL,aAAAC,+BAGA,c,6EC/OA,yHAAwuC,eAAG,G","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b237504c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uGap: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-gap/u-gap\" */ \"@/uni_modules/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    \"u-Image\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--image/u--image\" */ \"@/uni_modules/uview-ui/components/u--image/u--image.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    myButton: function () {\n      return import(\n        /* webpackChunkName: \"components/my-button\" */ \"@/components/my-button.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uSearch: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-search/u-search\" */ \"@/uni_modules/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uList: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-list/u-list\" */ \"@/uni_modules/uview-ui/components/u-list/u-list.vue\"\n      )\n    },\n    uListItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-list-item/u-list-item\" */ \"@/uni_modules/uview-ui/components/u-list-item/u-list-item.vue\"\n      )\n    },\n    uCell: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.actionSheetShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.selectSchoolShow = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.actionSheetShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n  <view style=\"height: 100%;background: url(https://qs.aiwld.com.cn/static/app/loginbg.png) no-repeat;background-size: 100%;\">\r\n\t\t<movable-area style=\"width: 100%; height: 100%\">\r\n\t\t  <movable-view direction=\"all\" :out-of-bounds=\"false\">\r\n\t\t    <u-icon name=\"fanhui2\" custom-prefix=\"custom-icon\" size=\"80\" color=\"#909399\" @click=\"backClick\"></u-icon>\r\n\t\t  </movable-view>\r\n\t\t\t\r\n\t\t\t<view class=\"loginTop\">\r\n\t\t\t\t<u-gap height=\"188\"></u-gap>\r\n\t\t\t\t<view style=\"position: absolute;top: 84rpx;left: 108rpx;z-index: 100;\">\r\n\t\t\t\t\t<u--image src=\"https://qs.aiwld.com.cn/static/app/loginimg.png\" width=\"640rpx\" height=\"322rpx\"></u--image>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"fw700 u-font-40 u-m-l-60\">Hello！</view>\r\n\t\t\t\t<view class=\"u-font-28 u-m-t-10 u-m-l-60\">欢迎使用智慧校园系统</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"bgfff login_form\">\r\n\t\t\t\t<view class=\"u-flex u-m-b-70\">\r\n\t\t\t\t\t<u--image :src=\"slogo\" shape=\"circle\" width=\"88rpx\" height=\"88rpx\"></u--image>\r\n\t\t\t\t\t<view class=\"u-font-40 u-m-l-30 u-line-1 fw700\" @click=\"schoolChange\">{{ schoolName || '请选择学校'}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"u-p-14\">\r\n\t\t\t\t\t<u-form :model=\"form\" ref=\"uForm\" :label-width=\"150\">\r\n\t\t\t\t\t  <u-form-item label=\"身份\" prop=\"empTypeLabel\" @click=\"actionSheetShow = true\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n\t\t\t\t\t    <u-input v-model=\"form.empTypeLabel\" placeholder=\"请选择身份\" disabled disabledColor=\"#ffffff\" input-align=\"right\" />\r\n\t\t\t\t\t  </u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"学生姓名\" prop=\"stuName\" v-if=\"form.bindEmpType == 3\">\r\n\t\t\t\t\t\t  <u-input v-model=\"form.stuName\" placeholder=\"请输入学生姓名\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"身份证号\" prop=\"empCode\" v-if=\"form.bindEmpType == 3\">\r\n\t\t\t\t\t\t  <u-input v-model=\"form.empCode\" placeholder=\"请输入学生身份证号\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"家长姓名\" prop=\"empName\"  v-if=\"form.bindEmpType == 3\">\r\n\t\t\t\t\t\t  <u-input v-model=\"form.empName\" placeholder=\"请输入姓名\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"姓名\" prop=\"empName\" v-else>\r\n\t\t\t\t\t\t  <u-input v-model=\"form.empName\" placeholder=\"请输入姓名\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"身份证号\" prop=\"empCode\" v-if=\"form.bindEmpType == 1\">\r\n\t\t\t\t\t\t  <u-input v-model=\"form.empCode\" placeholder=\"请输入学生身份证号\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t<u-form-item label=\"手机号码\" prop=\"empPhone\" v-if=\"form.bindEmpType != 1\" >\r\n\t\t\t\t\t\t  <u-input v-model=\"form.empPhone\" placeholder=\"请输入手机号码\" input-align=\"right\" />\r\n\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t</u-form>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</movable-area>\r\n    \r\n    <my-button @click=\"submit\" :disabled=\"btnDisabled\" v-if=\"!btnDisabled\">登录</my-button>\r\n\t\t\r\n\t\t<u-popup\r\n\t\t\t:show=\"selectSchoolShow\" \r\n\t\t\tcloseable round=\"10\" customStyle=\"padding:30rpx 20rpx;\" \r\n\t\t\t@close=\"selectSchoolShow = false\">\r\n\t\t\t<view class=\"u-m-b-30 u-text-center\">学校选择</view>\r\n\t\t\t<u-search placeholder=\"输入学校名称查询\" v-model.trim=\"schoolName\" height=\"70rpx\" :showAction=\"false\" :searchIconSize=\"44\"></u-search>\r\n\t\t\t<u-list height=\"600rpx\" customStyle=\"margin-top:20rpx;\">\r\n\t\t\t\t<u-list-item v-for=\"(item, index) in schoolList\" :key=\"item.sid\">\r\n\t\t\t\t\t<u-cell :title=\"item.sname\" @click=\"schoolListClick(item)\" :icon=\"item.slog\"></u-cell>\r\n\t\t\t\t</u-list-item>\r\n\t\t\t</u-list>\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<u-action-sheet\r\n\t\t\t:show=\"actionSheetShow\" \r\n\t\t\t:actions=\"actionSheetData\"\r\n\t\t\ttitle=\"请选择身份\"\r\n\t\t\t@close=\"actionSheetShow = false\"\r\n\t\t\t@select=\"actionSheetChange\"></u-action-sheet>\r\n\t\t\t\r\n\t\t<u-overlay :show=\"maskShow\">\r\n\t\t\t<view class=\"w-overlay\">正在提交，请等待...</view>\r\n\t\t</u-overlay>\r\n    <u-toast ref=\"uToast\" />\r\n  </view>\n</template>\n\n<script>\r\n  import { register, getMunuAuth, getSchoolList } from '@/api/common/index.js'\r\n  import { userInfo } from '@/api/home/home.js'\r\n  \n  export default {\r\n    data() {\n      return {\r\n\t\t\t\tslogo:\"\",\r\n\t\t\t\tschoolName:\"\",\r\n\t\t\t\tselectSchoolShow:false,\r\n\t\t\t\tschoolList:[],\n        form:{ bindEmpType:\"\", empTypeLabel:\"\", empName:\"\", empPhone:\"\",stuName:\"\", empCode:\"\" },\r\n        rules:{\r\n          empName:[{\r\n            required: true,\r\n            message: '请输入姓名',\r\n            trigger: ['blur'],\r\n          }],\r\n          empPhone:[{\r\n            required: true,\r\n            message: '请输入手机号码',\r\n            trigger: ['blur'],\r\n          },{\r\n            validator: (rule, value, callback) => {\r\n              return this.$u.test.mobile(value);;\r\n            },\r\n            message: '手机号码不正确',\r\n            trigger: ['blur'],\r\n          }],\r\n          empTypeLabel:[{\r\n            required: true,\r\n            message: '请选择身份',\r\n            trigger: ['blur'],\r\n          }],\r\n\t\t\t\t\tstuName:[{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入学生姓名',\r\n\t\t\t\t\t\ttrigger: ['blur'],\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tempCode:[{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入学生身份证号',\r\n\t\t\t\t\t\ttrigger: ['blur'],\r\n\t\t\t\t\t}]\r\n        },\r\n        maskShow:false,\r\n\t\t\t\tbtnDisabled:false,\r\n\t\t\t\tactionSheetShow:false,\r\n\t\t\t\tactionSheetData:[\r\n\t\t\t\t\t{ value:1,name:\"学生\" },\r\n\t\t\t\t\t{ value:2,name:\"教职工\" },\r\n\t\t\t\t\t{ value:3,name:\"家长\" }\r\n\t\t\t\t]\r\n      }\r\n    },\r\n\t\tonLoad() {\r\n\t\t\tgetSchoolList().then(r => {\r\n\t\t\t\tlet d = r.data.data;\r\n\t\t\t\tthis.schoolList = d;\r\n\t\t\t\tif(this.vuex_urlobj.sid){\r\n\t\t\t\t\tlet item = d.filter(v => v.sid == this.vuex_urlobj.sid);\r\n\t\t\t\t\tthis.schoolName = item.length && item[0].sname || '';\r\n\t\t\t\t\tthis.slogo = item.length && item[0].slogo || '';\r\n\t\t\t\t}\r\n\t\t\t\tif(!this.schoolName && d.length === 1){\r\n\t\t\t\t\tlet { sname, sid, slogo } = d[0];\r\n\t\t\t\t\tthis.schoolName = sname;\r\n\t\t\t\t\tthis.slogo = slogo;\r\n\t\t\t\t\tthis.$u.vuex('vuex_urlobj.sid', sid);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n    onReady() {\r\n      this.$refs.uForm.setRules(this.rules);\r\n    },\n    methods: {\r\n      submit(){\r\n        this.$refs.uForm.validate().then(() => {\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\twx.getUserProfile({\r\n\t\t\t\t\t\tdesc: '用于完善基础资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthis.form.appType = 1;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tthis.form.appType = 2;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tthis.maskShow = true;\r\n\t\t\t\t\tthis.btnDisabled = true;\r\n\t\t\t\t\tregister(this.form).then(r => {\r\n\t\t\t\t\t\tthis.maskShow = false;\r\n\t\t\t\t\t\tif(r.data.code == 200){\r\n\t\t\t\t\t\t\tthis.$refs.uToast.show({ message: '注册成功！', type: \"success\",duration:3000 });\r\n\t\t\t\t\t\t\tlet d = r.data.data;\r\n\t\t\t\t\t\t\tthis.$u.vuex('vuex_urlobj.token', d.token);\r\n\t\t\t\t\t\t\tthis.$u.vuex('vuex_urlobj.isBind', 1);\r\n\t\t\t\t\t\t\tthis.$u.vuex('vuex_urlobj.bindId', d.bindWxInfo.empId + '_' +  d.bindWxInfo.bindEmpType);\r\n\t\t\t\t\t\t\tthis.$u.vuex('vuex_urlobj.bindEmpType', d.bindWxInfo.bindEmpType);\r\n\t\t\t\t\t\t\tthis.$u.vuex('vuex_urlobj.bindWxId', d.bindWxInfo.id);\r\n\t\t\t\t\t\t\t// getMunuAuth().then(r => {\r\n\t\t\t\t\t\t\t// \tthis.$u.vuex('vxe_menuAuth',r.data.data)\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t// userInfo().then(r => {\r\n\t\t\t\t\t\t\t// \tlet d = r.data.data;\r\n\t\t\t\t\t\t\t// \tthis.$u.vuex('vuex_useInfo', d);\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tlet href = window.location.href;\r\n\t\t\t\t\t\t\t\thref = href.replace(/isBind=0/g, 'isBind=1&token='+d.token);\r\n\t\t\t\t\t\t\t\thref = href.replace(/pages\\/login\\/login/g, 'pages/index/index');\r\n\t\t\t\t\t\t\t\tlocation.href = href;\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\tuni.switchTab({ url:'/pages/index/index' })\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t},3000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: \"error\" });\r\n\t\t\t\t\t\tthis.maskShow = false;\r\n\t\t\t\t\t\tthis.btnDisabled = false;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n      },\r\n\t\t\tschoolListClick(item){\r\n\t\t\t\tlet { sname, sid, slogo } = item;\r\n\t\t\t\tthis.schoolName = sname;\r\n\t\t\t\tthis.slogo = slogo;\r\n\t\t\t\tuni.removeStorageSync('vuex_cfg');\r\n\t\t\t\tuni.removeStorageSync('vuex_useInfo');\r\n\t\t\t\tuni.removeStorageSync('vuex_menuAuth');\r\n\t\t\t\tthis.$u.vuex('vuex_urlobj.sid', sid);\r\n\t\t\t\tthis.selectSchoolShow = false;\r\n\t\t\t},\r\n\t\t\tschoolChange(){\r\n\t\t\t\tif(this.schoolList.length === 1) return;\r\n\t\t\t\tthis.selectSchoolShow = true;\r\n\t\t\t},\r\n\t\t\tactionSheetChange(e){\r\n\t\t\t\tthis.form.empTypeLabel = e.name;\r\n\t\t\t\tthis.form.bindEmpType = e.value;\r\n\t\t\t\tthis.$set(this.form,'bindEmpType',e.value)\r\n\t\t\t},\r\n\t\t\tbackClick(){\r\n\t\t\t\tuni.switchTab({ url:'/pages/index/index' })\r\n\t\t\t}\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .loginTop{\r\n    position: relative;\r\n\t\tpadding-bottom: 44rpx;\r\n  }\r\n\t.login_form{\r\n\t\tborder-radius: 80rpx 80rpx 0px 0px;padding: 52rpx 34rpx;position: absolute;top: 342rpx;bottom: 0;left: 0;right: 0;\r\n\t}\n</style>","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\""],"sourceRoot":""}
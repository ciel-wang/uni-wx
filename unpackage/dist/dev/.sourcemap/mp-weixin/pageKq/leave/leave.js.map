{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HWD/test/pageKq/leave/leave.vue?185c","webpack:///F:/HWD/test/pageKq/leave/leave.vue?e15d","webpack:///F:/HWD/test/pageKq/leave/leave.vue?3660","webpack:///F:/HWD/test/pageKq/leave/leave.vue?a675","uni-app:///pageKq/leave/leave.vue","webpack:///F:/HWD/test/pageKq/leave/leave.vue?1db0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uIcon","uForm","myCard","uFormItem","uInput","uButton","uTag","myUpload","uRadioGroup","uRadio","myTimeAxis","uAvatar","myButton","uActionSheet","uDatetimePicker","wPicker","uOverlay","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","receiptType","Array","isArray","bkTimeSteps","length","g1","cardCountMax","g2","jbTimeTabel","a0","token","vuex_urlobj","sid","g3","form","empName","substr","g4","auditEmpIds","auditEmpName","g5","duplicateEmpList","l0","__map","v","i","$orig","__get_orig","g6","g7","Date","getTime","g8","_isMounted","e0","$event","typeRoleShow","e1","cityShow","btnType","e2","e3","startTimeShow","e4","e5","e6","e7","e8","endTimeShow","e9","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","typeRoleName","startTime","endTime","receiptCause","receiptVehicle","isOneWay","isLeave","duration","endTimeMax","receiptsForm","rules","required","trigger","validator","maskShow","maskValue","typeRoleList","startTimeValue","endTimeValue","imgAction","imgList","receiptVehicleList","label","value","isOneWayList","isOneWayType","vehicleType","fileList","sourceType","radioArr","empType","showProgress","cityList","receiptTypeArr","curEmpInfo","onLoad","receiptsForms","uni","url","empId","deptName","ids","emps","typeRoleId","type","roleType","arr","name","onReady","title","watch","handler","obj","deep","methods","submit","setTimeout","typeRoleConfirm","startTimeChange","endTimeClick","endTimeChange","ed","timeDiff","dayDate","minute","params","hourBlur","beforeUpload","fileError","fileUpload","beforeRemove","isOneWayChange","vehicleChange","getEmp","fromCityBlur","toCityBlur","receiptCauseBlur","isLeaveChange","leaveCauseBlur","delClick","cityConfirm","deleteClick","backClick"],"mappings":"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,kBAEA,mDACA,wDACA,+DAMA,kBACA,uBACA,qBACA,wBACA,+BACA,6BACA,gCACA,wCACAP,yDAEA,0BAAAQ,4BAAA,kBACA,qBACA,kBACA,KACA,mBACAC,wBAAA,OAAAvB,WAAAwB,qBAEA,mBACAD,wBAAA,OAAAvB,WAAAwB,qBAEA,mBACAD,wBAAA,OAAAvB,WAAAwB,qBAEA,mBACAD,wBAAA,OAAAvB,WAAAwB,qBAEA,sBAIAC,mBAEA,oBACAX,yBAAAY,aACA,oBACAZ,yBAAAY,aACA,oBACAZ,yBAAAY,aAEAZ,yBAAAY,aAEA,sBACA,kBACA,gBACAhD,YACAU,YACAjF,cACAkF,4BAEAV,UACAS,YACAjF,cACAkF,+BAIA,uCAEAsC,OACA,gBACAC,oBACA,SAEAC,gBADA,KACAA,EACAzC,YACAjF,kBACAkF,4BAGAwC,GAEA,iCACA,uCAEAC,UAGAC,SACAC,kBAAA,WACA,6CACA,uBAIA,oCACA,qDACA,aACA,iBACA,iBACA,sDACA,qBAAA7H,+CAAAkH,mBADA,CAIA,6BACA,uCACA,wBACAxF,cACA,YACAA,2BAGA,qBACA,wBACAA,iCAAA,kBAEA,cACA,0BACA,sBACA,qCACA,cACA,qBAAA1B,mBAAAkH,iBACAY,uBACA,gBACA,KACAnB,2CACA,mBACA,cACA,qBAAA3G,UAAAkH,mBAGA,mCACA,cACA,qBAAAlH,mBAAAkH,iBACAY,uBACA,gBACA,KACAnB,2CACA,mBACA,cACA,qBAAA3G,UAAAkH,wBAhDA,qBAAAlH,kBAAAkH,mBAqDAa,4BAAA,WACA,iCACA,gCACA,yBACA,oCACA,yCACA,yCACA,gBAAAd,mBAAAC,SAAA,kBACA,qBACA,kBACA,+BACA,sCACA,qBAAAlH,4BAAAkH,eACA,iBACA,sBACA,+BAEA,mDACA,gEACA,iEAEAP,yDAIAqB,4BACA,wBACA,kDAMA,OALA,yBACA,uCACA,+CACArB,4DACA,uBAKA,GAFA,6BACA,qCACA,qBACA,4CACA,yBACA,iCACA,wBACA,gCACA,oBACA,4BACA,oCACA,oCACA,gDACA,CACA,kDACA,yBACA,iCACA,wBACA,gCACA,sBACA,sBACA,8BACA,8BAEAA,uDACA,uBAEAsB,wBACA,oBACA,oBAEA,wBAAAjI,mBAAAkH,gBAGAgB,0BAAA,WACA,wBACA,4CAGA,GAFA,uBACA,+BACA,wBAOA,IANA,6BACA,uBACA,2CACAC,2CACAC,MACA,KACA,mBACA,oBACAhB,QACAiB,wCACAC,WAGA,mBACA,2BACA,mCAEA3B,uDACA,wBACA,CACA,kDACA,uBACA,+BACAA,uDACA,oBACA,SACA4B,2BACAA,yCACAA,sCACA,sCACA,qBACA,kBACA,8CACA,wDACA,8CACA,sDACA,sDACA5B,wDAEA,mBACA,qBAAA3G,UAAAkH,oBAIAsB,qBACA,uCACA,+CACA,uBACA,IACApB,uBACAhF,qFACA,6BAEA,kCACA,6BACAuE,wDAEA8B,2BAIA,OAHA,6BACA,iBACA,sBACA,GAEAC,4BACA,iBACA,sBAEAC,6BACA,iBACA,qBACA,aACA,iCACA,qDACAhC,uDACA,wBAAA3G,eAAAkH,kBAEA,wBAAAlH,cAAAkH,gBAGA0B,2BACA,iBACA,yBACA,qDACAjC,wDAEAkC,2BACA,MACA,yBACA,iCACA,sBAEA,yBACA,iCACA,qBAEAlC,wDAEAmC,0BACA,8BACA,sCACA,mBACAnC,wDAEAoC,mBACA,gBACA,6CAIApC,cACAC,4JAJA,+BAOAoC,yBACA,gCACArC,wDAEAsC,uBACA,8BACAtC,wDAEAuC,6BACA,yDACAvC,wDAEAwC,0BACA,+BACAxC,wDAEAyC,2BACA,kCACAzC,wDAEA0C,qBACA,kCACA,SACA,2CACAjC,gBAEA,8CACAT,wDAEA2C,wBACA,cACA,uBACA,4CACA,sDAEA,0CACA,mDAEA3C,wDAEA4C,wBACA,6BACA,uCACA,+CACA5C,wDAEA6C,qBACA,UACA7C,cAAAC,wBAEAD,aAAAC,8BAIA,c,6DC9xBA,yHAAm8B,eAAG,G","file":"pageKq/leave/leave.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pageKq/leave/leave.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./leave.vue?vue&type=template&id=dad5a39a&scoped=true&\"\nvar renderjs\nimport script from \"./leave.vue?vue&type=script&lang=js&\"\nexport * from \"./leave.vue?vue&type=script&lang=js&\"\nimport style0 from \"./leave.vue?vue&type=style&index=0&id=dad5a39a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dad5a39a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageKq/leave/leave.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./leave.vue?vue&type=template&id=dad5a39a&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    myCard: function () {\n      return import(\n        /* webpackChunkName: \"components/my-card\" */ \"@/components/my-card.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uTag: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-tag/u-tag\" */ \"@/uni_modules/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    myUpload: function () {\n      return import(\n        /* webpackChunkName: \"components/my-upload\" */ \"@/components/my-upload.vue\"\n      )\n    },\n    uRadioGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uni_modules/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio/u-radio\" */ \"@/uni_modules/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n    myTimeAxis: function () {\n      return import(\n        /* webpackChunkName: \"components/my-time-axis\" */ \"@/components/my-time-axis.vue\"\n      )\n    },\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    myButton: function () {\n      return import(\n        /* webpackChunkName: \"components/my-button\" */ \"@/components/my-button.vue\"\n      )\n    },\n    uActionSheet: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-action-sheet/u-action-sheet\" */ \"@/uni_modules/uview-ui/components/u-action-sheet/u-action-sheet.vue\"\n      )\n    },\n    uDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker\" */ \"@/uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker.vue\"\n      )\n    },\n    wPicker: function () {\n      return import(\n        /* webpackChunkName: \"components/w-picker/w-picker\" */ \"@/components/w-picker/w-picker.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.receiptType == 4\n      ? Array.isArray(_vm.bkTimeSteps) && _vm.bkTimeSteps.length > 0\n      : null\n  var g1 =\n    _vm.receiptType == 4\n      ? Array.isArray(_vm.bkTimeSteps) &&\n        _vm.bkTimeSteps.length <= _vm.cardCountMax - 1\n      : null\n  var g2 =\n    Array.isArray(_vm.jbTimeTabel) &&\n    _vm.jbTimeTabel.length > 0 &&\n    _vm.receiptType == 3\n  var a0 = {\n    token: _vm.vuex_urlobj.token,\n    sid: _vm.vuex_urlobj.sid,\n  }\n  var g3 = _vm.form.empName\n    ? _vm.form.empName && _vm.form.empName.substr(_vm.form.empName.length - 2)\n    : null\n  var g4 = _vm.form.auditEmpIds\n    ? _vm.form.auditEmpName &&\n      _vm.form.auditEmpName.substr(_vm.form.auditEmpName.length - 2)\n    : null\n  var g5 =\n    Array.isArray(_vm.duplicateEmpList) && _vm.duplicateEmpList.length > 0\n  var l0 = _vm.__map(_vm.duplicateEmpList, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    var g6 = g5 ? v.empName && v.empName.substr(v.empName.length - 2) : null\n    return {\n      $orig: $orig,\n      g6: g6,\n    }\n  })\n  var g7 = new Date(\"2050/05/31\").getTime()\n  var g8 = !(_vm.receiptType == 3) ? new Date(\"2050/05/31\").getTime() : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.typeRoleShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.cityShow = true\n      _vm.btnType = \"from\"\n    }\n    _vm.e2 = function ($event) {\n      _vm.cityShow = true\n      _vm.btnType = \"toCity\"\n    }\n    _vm.e3 = function ($event) {\n      _vm.startTimeShow = true\n    }\n    _vm.e4 = function ($event) {\n      _vm.startTimeShow = true\n    }\n    _vm.e5 = function ($event) {\n      _vm.typeRoleShow = false\n    }\n    _vm.e6 = function ($event) {\n      _vm.startTimeShow = false\n    }\n    _vm.e7 = function ($event) {\n      _vm.startTimeShow = false\n    }\n    _vm.e8 = function ($event) {\n      _vm.endTimeShow = false\n    }\n    _vm.e9 = function ($event) {\n      _vm.endTimeShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        a0: a0,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        l0: l0,\n        g7: g7,\n        g8: g8,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./leave.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./leave.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <movable-area style=\"width: 100%;height: 100%;\">\r\n      <movable-view direction=\"all\" :out-of-bounds=\"false\">\r\n        <u-icon name=\"fanhui2\" custom-prefix=\"custom-icon\" size=\"80\" color=\"#909399\" @click=\"backClick\"></u-icon>\r\n      </movable-view>\r\n      <scroll-view scroll-y style=\"height: calc(100% - 67px);width: 100%;\">\r\n        <u-form :model=\"form\" ref=\"uForm\" :border-bottom=\"false\" label-width=\"160\">\r\n          <my-card :showHead=\"false\" :showFoot=\"false\" margin=\"0 20rpx\">\r\n            <u-form-item label=\"提交人\" prop=\"empId\" required>\r\n\t\t\t\t\t\t\t<view class=\"u-flex\">\r\n\t\t\t\t\t\t\t\t<u-input v-model=\"form.empName\" disabled disabledColor=\"#ffffff\" placeholder=\"请填写\" input-align=\"right\" />\r\n\t\t\t\t\t\t\t\t<u-button \r\n\t\t\t\t\t\t\t\t\tcustomStyle=\"width:150rpx;margin-left:10rpx\" size=\"mini\" type=\"primary\" plain\r\n\t\t\t\t\t\t\t\t\tv-if=\"vuex_useInfo.bindEmpType == 2\" \r\n\t\t\t\t\t\t\t\t\t@click=\"getEmp({ come: 'empId' })\">代他人提交</u-button>\r\n\t\t\t\t\t\t\t</view>\r\n            </u-form-item>\r\n            \r\n            <u-form-item :label=\"vuex_useInfo.bindEmpType != 2 || empType == 'GRADE' ? '年/班级' : '所在部门'\" prop=\"deptName\">\r\n              <u-input v-model=\"form.deptName\" disabled disabledColor=\"#ffffff\" placeholder=\"自动填写\" input-align=\"right\" />\r\n            </u-form-item>\r\n            \r\n            <u-form-item :label=\"receiptTypeArr[receiptType-1]+'类型'\" prop=\"typeRoleName\" required @click=\"typeRoleShow = true;\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.typeRoleName\" disabled disabledColor=\"#ffffff\" placeholder=\"请选择\" input-align=\"right\" />\r\n            </u-form-item>\r\n\t\t\t\t\t\t\r\n            <u-form-item label=\"交通工具\" prop=\"receiptVehicle\" v-if=\"receiptType == 2\">\r\n              <view class=\"u-flex u-width-100\" style=\"justify-content: flex-end;\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-m-r-4\">\r\n\t\t\t\t\t\t\t\t\t<u-tag text=\"飞机\" size=\"mini\" name=\"1\" :type=\"vehicleType == 1 ? 'primary' : 'info'\" @click=\"vehicleChange\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-m-r-4\">\r\n\t\t\t\t\t\t\t\t\t<u-tag text=\"火车\" size=\"mini\" name=\"2\" :type=\"vehicleType == 2 ? 'primary' : 'info'\" @click=\"vehicleChange\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-m-r-4\">\r\n\t\t\t\t\t\t\t\t\t<u-tag text=\"汽车\" size=\"mini\" name=\"3\" :type=\"vehicleType == 3 ? 'primary' : 'info'\" @click=\"vehicleChange\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n                <u-tag text=\"其他\" size=\"mini\" name=\"4\" :type=\"vehicleType == 4 ? 'primary' : 'info'\" @click=\"vehicleChange\" />\r\n              </view>\r\n            </u-form-item>\r\n            \r\n            <u-form-item label=\"单程往返\" prop=\"isOneWay\" v-if=\"receiptType == 2\">\r\n              <view class=\"u-flex u-width-100\" style=\"justify-content: flex-end;\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-m-r-4\">\r\n\t\t\t\t\t\t\t\t\t<u-tag text=\"单程\" size=\"mini\" name=\"1\" class=\"u-m-r-10\" :type=\"isOneWayType == 1 ? 'primary' : 'info'\" @click=\"isOneWayChange\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n                <u-tag text=\"往返\" size=\"mini\" name=\"0\" :type=\"isOneWayType == 0 ? 'primary' : 'info'\" @click=\"isOneWayChange\" />\r\n              </view>\r\n            </u-form-item>\r\n            \r\n            <u-form-item label=\"出发城市\" prop=\"fromCity\" v-if=\"receiptType == 2\" @click=\"cityShow = true;btnType = 'from'\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.fromCity\" disabled disabledColor=\"#ffffff\" placeholder=\"请填写\" input-align=\"right\" />\r\n            </u-form-item>\r\n            \r\n            <u-form-item label=\"目的城市\" prop=\"toCity\" v-if=\"receiptType == 2\" @click=\"cityShow = true;btnType = 'toCity'\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.toCity\" disabled disabledColor=\"#ffffff\" placeholder=\"请填写\" input-align=\"right\" />\r\n            </u-form-item>\r\n            \r\n            <u-form-item \r\n\t\t\t\t\t\t\tv-if=\"receiptType != 4\" \r\n\t\t\t\t\t\t\tlabel=\"开始时间\" required\r\n\t\t\t\t\t\t\t:prop=\"receiptType != 4 ? 'startTime' : ''\" \r\n\t\t\t\t\t\t\t@click=\"startTimeShow = true;\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.startTime\" placeholder=\"请填写\" disabled disabledColor=\"#ffffff\" input-align=\"right\" />\r\n            </u-form-item>\r\n            \r\n            <!-- 补卡时间 -->\r\n            <u-form-item v-if=\"receiptType == 4\" prop=\"bkTimeSteps\" label=\"补卡时间\" required>\r\n              <view class=\"u-flex-col u-width-100\">\r\n                <view v-model=\"form.bkTimeSteps\" v-if=\"Array.isArray(bkTimeSteps) && bkTimeSteps.length > 0\">\r\n                  <view v-for=\"(item, index) in bkTimeSteps\" :key=\"index\" class=\"u-flex u-row-right u-m-b-14\">\r\n                    <text class=\"u-border-bottom fw700\" style=\"color: #121212;padding:12rpx;\">{{ item }}</text>\r\n                    <u-icon size=\"50\" color=\"#c0c4cc\" name=\"minus-circle\" @click=\"deleteClick(index)\"></u-icon>\r\n                  </view>\r\n                </view>\r\n                <view \r\n                  class=\"u-flex u-row-right u-width-100\" \r\n                  v-if=\"Array.isArray(bkTimeSteps) && bkTimeSteps.length <= cardCountMax - 1\" \r\n                  @click=\"startTimeShow = true;\">\r\n                  <text style=\"color: #c0c4cc;margin-right: 12rpx;\">添加补卡时间</text>\r\n                  <u-icon size=\"50\" color=\"#c0c4cc\" name=\"plus-circle\"></u-icon>\r\n                </view>\r\n              </view>\r\n            </u-form-item>\r\n\t\t\t\t\t\t\r\n            <u-form-item \r\n\t\t\t\t\t\t\tv-if=\"receiptType != 4\" \r\n\t\t\t\t\t\t\tlabel=\"结束时间\" required\r\n\t\t\t\t\t\t\t:prop=\"receiptType != 4 ? 'endTime' : ''\" \r\n\t\t\t\t\t\t\t@click=\"endTimeClick\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.endTime\" placeholder=\"请填写\" input-align=\"right\" disabled disabledColor=\"#ffffff\" />\r\n            </u-form-item>\r\n            \r\n            <u-form-item v-if=\"Array.isArray(jbTimeTabel) && jbTimeTabel.length > 0 && receiptType == 3\" prop=\"jbTimeSteps\" :borderBottom=\"false\">\r\n              <view class=\"u-width-96\">\r\n                <view class=\"u-m-b-10\">为了方便统计，请填写每日加班时长</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"u-border u-flex fw700 u-p-t-10 u-p-b-10 u-text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-border-right u-width-50\">加班日期</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-width-50\">加班时长(小时)</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"u-border u-flex u-p-t-10 u-p-b-10 u-text-center\" v-for=\"(v, i) in jbTimeTabel\" :key=\"i\" style=\"border-top: none;\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-border-right u-width-50\">{{ v.dayDate }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-width-50 u-p-l-10 u-p-r-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u-input v-model=\"v.minute\" type=\"number\" @blur=\"hourBlur\" inputAlign=\"center\" :maxlength=\"4\" />\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n              </view>\r\n            </u-form-item>\r\n            \r\n            <u-form-item label=\"总时长(小时)\" labelWidth=\"200\" prop=\"duration\" v-if=\"receiptType != 4\">\r\n              <u-input v-model=\"form.duration\" placeholder=\"自动计算\" disabled disabledColor=\"#ffffff\" input-align=\"right\" />\r\n            </u-form-item>\r\n\t\t\t\t\t\t\r\n            <u-form-item :label=\"receiptTypeArr[receiptType-1]+'事由'\" prop=\"receiptCause\" required>\r\n\t\t\t\t\t\t\t<u--textarea\r\n\t\t\t\t\t\t\t\tv-model=\"form.receiptCause\" \r\n\t\t\t\t\t\t\t\tplaceholder=\"请填写\" \r\n\t\t\t\t\t\t\t\tcount border=\"none\" :maxlength=\"100\" autoHeight\r\n\t\t\t\t\t\t\t\t@blur=\"receiptCauseBlur\"></u--textarea>\r\n            </u-form-item>\r\n\t\t\t\t\t\t\r\n            <u-form-item label=\" \" labelWidth=\"0\" prop=\"receiptImgs\" :border-bottom=\"false\">\r\n              <view>\r\n                <my-upload\r\n                  ref=\"uUpload\"\r\n                  :action=\"imgAction\"\r\n                  max-count=\"3\"\r\n                  width=\"188rpx\" height=\"188rpx\"\r\n                  name=\"file\"\r\n                  :multiple=\"true\"\r\n                  :file-list=\"fileList\"\r\n                  :header=\"{ token: vuex_urlobj.token,sid:vuex_urlobj.sid }\"\r\n                  @on-success=\"fileUpload\"\r\n                  @on-error=\"fileError\"\r\n                  :show-progress=\"showProgress\"\r\n                  :before-upload=\"beforeUpload\"\r\n                  :beforeRemove=\"beforeRemove\"\r\n                ></my-upload>\r\n              </view>\r\n            </u-form-item>\r\n            <view class=\"u-font-20\">支持上传JPG、JPEG、PNG格式的图片，单张图片大小不能超过5M</view>\r\n          </my-card>\r\n          \r\n          <my-card \r\n\t\t\t\t\t\t:showHead=\"false\" :showFoot=\"false\" margin=\"20rpx 20rpx 0\"\r\n\t\t\t\t\t\tv-if=\"vuex_useInfo.bindEmpType != 2 || (vuex_useInfo.bindEmpType == 2 && form.empType == 1)\">\r\n            <u-form-item label=\"是否离校\">\r\n\t\t\t\t\t\t\t<u-radio-group v-model=\"form.isLeave\" size=\"38\" iconSize=\"30\" @change=\"isLeaveChange\">\r\n\t\t\t\t\t\t\t\t<u-radio v-for=\"(item, index) in radioArr\" :key=\"index\" :name=\"item.value\" customStyle=\"margin-right:30rpx;\">\r\n\t\t\t\t\t\t\t\t  {{ item.label }}\r\n\t\t\t\t\t\t\t\t</u-radio>\r\n\t\t\t\t\t\t\t</u-radio-group>\r\n            </u-form-item>\r\n            <u-form-item label=\"外出去向\" prop=\"leaveCause\" required v-if=\"form.isLeave == 1\">\r\n              <u-input v-model.trim=\"form.leaveCause\" placeholder=\"请输入外出去向\" input-align=\"right\" @blur=\"leaveCauseBlur\" />\r\n            </u-form-item>\r\n          </my-card>\r\n\r\n          <my-card v-if=\"receiptType == 2\" :show-head=\"false\" :showFoot=\"false\" margin=\"20rpx 20rpx 0\">\r\n            <u-form-item label=\"同行人\" @click=\"getEmp({ come: 'together' })\">\r\n\t\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\" color=\"#c0c4cc\"></u-icon>\r\n              <u-input v-model=\"form.togetherEmps\" disabled disabledColor=\"#ffffff\" placeholder=\"请选择同行人\" input-align=\"right\" />\r\n            </u-form-item>\r\n          </my-card>\r\n\r\n          <my-card :head-border-bottom=\"true\" :foot-border-top=\"false\" title=\"审批流程\">\r\n\t\t\t\t\t\t<my-time-axis>\r\n\t\t\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t\t  <view class=\"u-flex u-row-between u-col-top\">\r\n\t\t\t\t\t\t\t    <view class=\"u-order-title\">发起人</view>\r\n\t\t\t\t\t\t\t    <view class=\"u-text-right u-flex-col u-col-bottom\">\r\n\t\t\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"form.empName\"\r\n\t\t\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t\t\t:text=\"form.empName && form.empName.substr(form.empName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t      <view v-if=\"curEmpInfo.empId == form.empId\">{{ curEmpInfo.empName }}提交</view>\r\n\t\t\t\t\t\t\t      <view v-else>{{ curEmpInfo.empName }}代{{ form['empName'] }}提交</view>\r\n\t\t\t\t\t\t\t    </view>\r\n\t\t\t\t\t\t\t  </view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t\t\t<my-time-axis>\r\n\t\t\t\t\t\t  <template v-slot:content>\r\n\t\t\t\t\t\t    <view class=\"u-flex u-row-between u-col-top\">\r\n\t\t\t\t\t\t      <view class=\"u-order-title\">审批人</view>\r\n\t\t\t\t\t\t      <view class=\"u-flex u-col-top\">\r\n\t\t\t\t\t\t        <view class=\"u-text-center u-m-r-10 u-flex-col u-col-center\" style=\"width: 100rpx;\" v-if=\"form.auditEmpIds\">\r\n\t\t\t\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:text=\"form.auditEmpName && form.auditEmpName.substr(form.auditEmpName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t          <view class=\"u-line-1\">{{ form['auditEmpName'] }}</view>\r\n\t\t\t\t\t\t        </view>\r\n\t\t\t\t\t\t        <view \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"custom-icon custom-icon-tianjia\" \r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 80rpx;\" \r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"getEmp({ come: 'auditEmpIds' })\"></view>\r\n\t\t\t\t\t\t      </view>\r\n\t\t\t\t\t\t    </view>\r\n\t\t\t\t\t\t  </template>\r\n\t\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t\t\t<my-time-axis :isShowLine=\"false\">\r\n\t\t\t\t\t\t  <template v-slot:content>\r\n\t\t\t\t\t\t    <view class=\"u-flex u-row-between u-col-top\">\r\n\t\t\t\t\t\t      <view class=\"u-order-title\">抄送人</view>\r\n\t\t\t\t\t\t      <view class=\"u-flex u-flex-wrap u-col-top\" style=\"max-width: 70%;\">\r\n\t\t\t\t\t\t        <view \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"u-text-center u-m-r-10 u-m-b-10\" style=\"width: 100rpx;\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"Array.isArray(duplicateEmpList) && duplicateEmpList.length > 0\" \r\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(v, i) in duplicateEmpList\" :key=\"i\">\r\n\t\t\t\t\t\t          <view class=\"u-rela u-flex u-row-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:text=\"v.empName && v.empName.substr(v.empName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t            <view class=\"del\" @click=\"delClick(i)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<u-icon name=\"close\" color=\"#fff\"></u-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t          </view>\r\n\t\t\t\t\t\t          <view class=\"u-line-1\">{{ v.empName }}</view> \r\n\t\t\t\t\t\t        </view>\r\n\t\t\t\t\t\t        <view \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"custom-icon custom-icon-tianjia\" \r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 80rpx;\" \r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"getEmp({ come: 'duplicateEmpIds' })\"></view>\r\n\t\t\t\t\t\t      </view>\r\n\t\t\t\t\t\t    </view>\r\n\t\t\t\t\t\t  </template>\r\n\t\t\t\t\t\t</my-time-axis>\r\n          </my-card>\r\n        </u-form>\r\n      </scroll-view>\r\n    </movable-area>\r\n\t\t\r\n\t\t<my-button @click=\"submit\">提交</my-button>\r\n\t\t\r\n\t\t<u-action-sheet\r\n\t\t\t:show=\"typeRoleShow\" \r\n\t\t\t:actions=\"typeRoleList\"\r\n\t\t\t@close=\"typeRoleShow = false\"\r\n\t\t\t@select=\"typeRoleConfirm\"></u-action-sheet>\r\n\t\t<u-datetime-picker\r\n\t\t\t:mode=\"receiptType == 3 ? 'date' : 'datetime'\"\r\n\t\t\t:show=\"startTimeShow\" v-model=\"startTimeValue\"\r\n\t\t\t:maxDate=\"new Date('2050/05/31').getTime()\"\r\n\t\t\t:minDate=\"0\"\r\n\t\t\t@confirm=\"startTimeChange\"\r\n\t\t\t@cancel=\"startTimeShow = false\"\r\n\t\t\t@close=\"startTimeShow = false\"\r\n\t\t></u-datetime-picker>\r\n\t\t<u-datetime-picker\r\n\t\t\t:mode=\"receiptType == 3 ? 'date' : 'datetime'\"\r\n\t\t\t:show=\"endTimeShow\" v-model=\"endTimeValue\"\r\n\t\t\t:maxDate=\"receiptType == 3 ? form.endTimeMax : new Date('2050/05/31').getTime()\"\r\n\t\t\t:minDate=\"form.endTimeMin\"\r\n\t\t\t@confirm=\"endTimeChange\"\r\n\t\t\t@cancel=\"endTimeShow = false\"\r\n\t\t\t@close=\"endTimeShow = false\"\r\n\t\t></u-datetime-picker>\r\n\t\t<w-picker\r\n\t\t  :visible.sync=\"cityShow\"\r\n\t\t  mode=\"linkage\"\r\n\t\t  :options=\"cityList\"\r\n\t\t  :level=\"3\"\r\n\t\t  default-type=\"value\"\r\n\t\t  @confirm=\"cityConfirm\"\r\n\t\t  ref=\"linkage\" ></w-picker>\r\n\t\t\r\n\t\t<u-overlay :show=\"maskShow\">\r\n\t\t\t<view class=\"w-overlay\">{{ maskValue }}</view>\r\n\t\t</u-overlay>\r\n    <u-toast ref=\"uToast\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport config from '@/config/index.js';\r\nimport { receiptTyperolelist, limitTime, getDuration, sendForm, updateForm } from '../kq.js';\r\nimport { transDate } from '@/utils/my_function.js'\r\nimport { city } from '@/utils/city.js'\r\nimport wPicker from \"@/components/w-picker/w-picker.vue\";\r\n\r\nexport default {\r\n\tcomponents:{ wPicker },\r\n  data() {\r\n    return {\r\n      receiptType: '',\r\n      form: {\r\n\t\t\t\tempName:\"\",typeRoleName:\"\",startTime:\"\",endTime:\"\", receiptCause:\"\",\r\n\t\t\t\treceiptVehicle: '1', isOneWay: true, bkTimeSteps:[], isLeave:0, duration:'',\r\n\t\t\t\tendTimeMax:0\r\n\t\t\t},\r\n      receiptsForm: {\r\n\t\t\t\tempName:\"\",typeRoleName:\"\",startTime:\"\",endTime:\"\",receiptCause:\"\",\r\n\t\t\t\treceiptVehicle: '1', isOneWay: true, bkTimeSteps: [],isLeave:0, duration:'' ,\r\n\t\t\t\tendTimeMax:0\r\n\t\t\t},\r\n      rules: {\r\n        empName: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t}],\r\n        typeRoleName: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t}],\r\n        bkTimeSteps: [{\r\n\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\treturn this.$u.test.array(value) && value.length > 0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t}],\r\n        receiptCause: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请填写',\r\n\t\t\t\t\ttrigger: ['blur']\r\n\t\t\t\t}],\r\n      },\r\n      maskShow: false,\r\n      maskValue: '',\r\n      typeRoleShow: false,\r\n      typeRoleList: [],\r\n      startTimeShow: false,\r\n\t\t\tstartTimeValue:Number(new Date()),\r\n      endTimeShow: false,\r\n\t\t\tendTimeValue:Number(new Date()),\r\n      imgAction: `${config.baseUrl}/iot-wx/kq/receipt/upload/imgs`,\r\n      imgList: [],\r\n      duplicateEmpList: [],\r\n      receiptVehicleList: [\r\n\t\t\t\t{ label: '飞机', value: '1' }, \r\n\t\t\t\t{ label: '火车', value: '2' }, \r\n\t\t\t\t{ label: '汽车', value: '3' }, \r\n\t\t\t\t{ label: '其他', value: '4' },\r\n\t\t\t],\r\n      isOneWayList: [{ value: 1, label: '单程' }, { value: 0, label: '往返' }],\r\n      isOneWayType: '1',\r\n      vehicleType: '1',\r\n      fileList: [],\r\n      jbTimeTabel: [],\r\n      sourceType: \"\",\r\n      bkTimeSteps: [],\r\n      cardCountMax: 1,\r\n      radioArr:[{value:1,label:\"是\"},{value:0,label:'否'}],\r\n      empType:\"\",\r\n      showProgress:false,\r\n\t\t\tcityShow:false,\r\n\t\t\tcityList:city(),\r\n\t\t\tbtnType:\"\",\r\n\t\t\treceiptTypeArr:['请假','出差','加班','补卡'],\r\n\t\t\tcurEmpInfo:{}\r\n    };\r\n  },\r\n  onLoad(v) {\r\n    if (v.come == 'mykq') {\r\n      this.mykq = 'mykq';\r\n    }\r\n    this.sourceType = v.sourceType;\r\n    this.fileList = [];\r\n    this.receiptType = v.type;\r\n    let receiptsForms = uni.getStorageSync('receiptsForm_key');\r\n\t\tif(receiptsForms && v.type != receiptsForms.receiptType){\r\n\t\t\treceiptsForms = null;\r\n\t\t\tuni.removeStorageSync('receiptsForm_key');\r\n\t\t}\r\n\t\tthis.bkTimeSteps = receiptsForms && receiptsForms.bkTimeSteps || [];\r\n\t\tthis.jbTimeTabel = receiptsForms && receiptsForms.jbTimeSteps || [];\r\n\t\tthis.duplicateEmpList = receiptsForms && receiptsForms.duplicateEmpList || [];\r\n\t\tlet imgList = receiptsForms && receiptsForms.receiptImgs && receiptsForms.receiptImgs.split(',') || [];\r\n\t\tthis.imgList = imgList;\r\n\t\tthis.fileList = imgList.map(v => ({ url: v }));\r\n\t\tthis.isOneWayType = receiptsForms && receiptsForms.isOneWay ? 1 : 0;\r\n\t\tthis.vehicleType = receiptsForms && receiptsForms.receiptVehicle ? receiptsForms.receiptVehicle : 1;\r\n\t\t\r\n\t\tlet { empName='', empId='', deptName='' } = this.vuex_useInfo;\r\n\t\tthis.curEmpInfo = { empName, empId, deptName };\r\n\t\tif(receiptsForms){\r\n\t\t\tthis.form = uni.$u.deepClone(receiptsForms);\r\n\t\t\tthis.receiptsForm = uni.$u.deepClone(receiptsForms);\r\n\t\t\tif (Array.isArray(receiptsForms.receiptTogether) && receiptsForms.receiptTogether.length) {\r\n\t\t\t  let ids = [];\r\n\t\t\t  let emps = [];\r\n\t\t\t  receiptsForms.receiptTogether.forEach(i => {\r\n\t\t\t    ids.push(i.id);\r\n\t\t\t    emps.push(i.empName);\r\n\t\t\t  });\r\n\t\t\t  if (emps.length > 3) {\r\n\t\t\t    this.form.togetherEmps = emps.slice(0, 3).join(',') + `等${emps.length}人`;\r\n\t\t\t  } else {\r\n\t\t\t    this.form.togetherEmps = emps.join(',');\r\n\t\t\t  }\r\n\t\t\t  this.form['receiptTogethers'] = ids.join(',');\r\n\t\t\t}\r\n\t\t\tif (receiptsForms.typeRoleId && (!receiptsForms.limitMaxTime || !receiptsForms.limitMinTime || !receiptsForms.cardCountMax)) {\r\n\t\t\t  limitTime({ typeRoleId: receiptsForms.typeRoleId, type: 2 }).then(r => {\r\n\t\t\t    if (r.data.code == 200) {\r\n\t\t\t      let data = r.data.data;\r\n\t\t\t      this.cardCountMax = data.limitMaxCount;\r\n\t\t\t      if (this.receiptType == 4 && this.cardCountMax == 0) {\r\n\t\t\t        this.$refs.uToast.show({ message: '本月补卡次数已超额，不能再进行补卡', type: 'error' });\r\n\t\t\t        this.bkTimeSteps = [];\r\n\t\t\t      }\r\n\t\t\t      if (Array.isArray(data.limitDays) && data.limitDays.length > 0) {\r\n\t\t\t        this.form.limitMaxTime = data.limitDays[0].LEAVETIME_MAX_MINUTE;\r\n\t\t\t        this.form.limitMinTime = data.limitDays[1].LEAVETIME_MIN_MINUTE;\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!receiptsForms || receiptsForms && !receiptsForms.empId){\r\n\t\t\tthis.form['empName'] = empName;\r\n\t\t\tthis.form['empId'] = empId;\r\n\t\t\tthis.form['deptName'] = deptName;\r\n\t\t\tthis.receiptsForm['empName'] = empName;\r\n\t\t\tthis.receiptsForm['empId'] = empId;\r\n\t\t\tthis.receiptsForm['deptName'] = deptName;\r\n\t\t\tthis.receiptsForm['receiptType'] = v.type;\r\n\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t}\r\n    receiptTyperolelist({ roleType: this.receiptType }).then(r => {\r\n      if (r.data.code == 200) {\r\n        let d = r.data.data;\r\n        let arr = [];\r\n        if (this.receiptType == 1) {\r\n\t\t\t\t\tarr = d.qj.map(v => ({ value: v.id, name: v.roleName }))\r\n        }\r\n        if (this.receiptType == 2) {\r\n\t\t\t\t\tarr = d.cc.map(v => ({ value: v.id, name: v.roleName }))\r\n        }\r\n        if (this.receiptType == 3) {\r\n\t\t\t\t\tarr = d.jb.map(v => ({ value: v.id, name: v.roleName }))\r\n        }\r\n        if (this.receiptType == 4) {\r\n\t\t\t\t\tarr = d.bk.map(v => ({ value: v.id, name: v.roleName }))\r\n        }\r\n        this.typeRoleList = arr;\r\n      }\r\n    });\r\n  },\r\n  onReady() {\r\n\t\t\r\n    if(this.receiptType == 1){\r\n      uni.setNavigationBarTitle({ title:'请假' })\r\n    }else if(this.receiptType == 2){\r\n      uni.setNavigationBarTitle({ title:'出差' })\r\n    }else if(this.receiptType == 3){\r\n      uni.setNavigationBarTitle({ title:'加班' })\r\n    }else {\r\n      uni.setNavigationBarTitle({ title:'补卡' })\r\n    }\r\n\t\tif(this.receiptType != 4){\r\n\t\t\tthis.rules = {\r\n\t\t\t\t...this.rules,\r\n\t\t\t\tstartTime: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t}],\r\n\t\t\t\tendTime: [{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '请选择',\r\n\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.$refs.uForm.setRules(this.rules);\r\n  },\r\n  watch:{\r\n    'form.isLeave':{\r\n      handler(val){\r\n        let obj = {}\r\n        if(val == 1){\r\n          obj['leaveCause'] = [{\r\n            required:true,\r\n            message:\"请填写外出去向\",\r\n            trigger: ['change', 'blur']\r\n          }]\r\n        }else{\r\n          obj['leaveCause'] = []\r\n        }\r\n        this.rules = {...this.rules,...obj}\r\n        this.$refs.uForm.setRules(this.rules);\r\n      },\r\n      deep:true\r\n    }\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs.uForm.validate().then(() => {\r\n\t\t\t\tif (!this.form.auditEmpIds) {\r\n\t\t\t\t  this.$refs.uToast.show({ message: '请先选择审批人', type: 'error' });\r\n\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\tthis.form['receiptType'] = this.receiptType;\r\n\t\t\t\tthis.form['receiptTogether'] = this.form['receiptTogethers'];\r\n\t\t\t\tlet f = this.form;\r\n\t\t\t\tlet max = f.limitMaxTime;\r\n\t\t\t\tlet min = f.limitMinTime;\r\n\t\t\t\tif (this.receiptType == 1 && (f.workTime*1 > max || f.workTime*1 < min)) {\r\n\t\t\t\t  this.$refs.uToast.show({ message: `请假时长不在${min}-${max}范围内`, type: 'error' });\r\n\t\t\t\t  return;\r\n\t\t\t\t}\r\n\t\t\t\tlet form = uni.$u.deepClone(this.form)\r\n\t\t\t\tif (this.receiptType == 1 || this.receiptType == 2) {\r\n\t\t\t\t  let startTime = form.startTime + ':00';\r\n\t\t\t\t  form.startTime = startTime;\r\n\t\t\t\t  if (form.endTime) {\r\n\t\t\t\t    form.endTime = form.endTime + ':59';\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tif (this.receiptType == 4) {\r\n\t\t\t\t  let jbArr = form.bkTimeSteps || [];\r\n\t\t\t\t  form.bkTimeSteps = jbArr.map(v => v + ':00');\r\n\t\t\t\t}\r\n\t\t\t\tthis.maskShow = true;\r\n\t\t\t\tthis.maskValue = '正在提交，请等待...';\r\n\t\t\t\tif (this.sourceType == 'edit') {\r\n\t\t\t\t  updateForm(form).then(r => {\r\n\t\t\t\t    this.maskShow = false;\r\n\t\t\t\t    this.$refs.uToast.show({ message: r.data.msg, type: 'success' });\r\n\t\t\t\t    setTimeout(() => {\r\n\t\t\t\t      this.backClick()\r\n\t\t\t\t    }, 2000);\r\n\t\t\t\t    uni.removeStorageSync('receiptsForm_key');\r\n\t\t\t\t  }).catch(err => {\r\n\t\t\t\t    this.maskShow = false;\r\n\t\t\t\t    this.$refs.uToast.show({ message: err, type: 'error' });\r\n\t\t\t\t  });\r\n\t\t\t\t} else {\r\n\t\t\t\t  sendForm(form).then(r => {\r\n\t\t\t\t    this.maskShow = false;\r\n\t\t\t\t    this.$refs.uToast.show({ message: r.data.msg, type: 'success' });\r\n\t\t\t\t    setTimeout(() => {\r\n\t\t\t\t      this.backClick()\r\n\t\t\t\t    }, 2000);\r\n\t\t\t\t    uni.removeStorageSync('receiptsForm_key');\r\n\t\t\t\t  }).catch(err => {\r\n\t\t\t\t    this.maskShow = false;\r\n\t\t\t\t    this.$refs.uToast.show({ message: err, type: 'error' });\r\n\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n    },\r\n    typeRoleConfirm(v) {\r\n      this.form['typeRoleName'] = v.name;\r\n      this.form['typeRoleId'] = v.value;\r\n      this.form.auditEmpIds = '';\r\n      this.receiptsForm['auditEmpIds'] = '';\r\n      this.receiptsForm['typeRoleName'] = v.name;\r\n      this.receiptsForm['typeRoleId'] = v.value;\r\n      limitTime({ typeRoleId: v.value, type: 2 }).then(r => {\r\n        if (r.data.code == 200) {\r\n          let d = r.data.data;\r\n          this.cardCountMax = d.limitMaxCount;\r\n          if (this.receiptType == 4 && this.cardCountMax == 0) {\r\n            this.$refs.uToast.show({ message: '本月补卡次数已超额，不能再进行补卡', type: 'error' });\r\n            this.bkTimeSteps = [];\r\n            this.form.bkTimeSteps = [];\r\n            this.receiptsForm.bkTimeSteps = [];\r\n          }\r\n          if (Array.isArray(d.limitDays) && d.limitDays.length > 0) {\r\n            this.receiptsForm.limitMaxTime = d.limitDays[0].LEAVETIME_MAX_MINUTE;\r\n            this.receiptsForm.limitMinTime = d.limitDays[1].LEAVETIME_MIN_MINUTE;\r\n          }\r\n\t\t\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n        }\r\n      });\r\n    },\r\n    startTimeChange(e) {\r\n\t\t\tif(this.receiptType == 4){\r\n\t\t\t\tlet result = uni.$u.timeFormat(e.value,'yyyy-mm-dd hh:MM');\r\n\t\t\t\tthis.bkTimeSteps.push(result);\r\n\t\t\t\tthis.form.bkTimeSteps = this.bkTimeSteps;\r\n\t\t\t\tthis.receiptsForm.bkTimeSteps = this.bkTimeSteps;\r\n\t\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t\t\tthis.startTimeShow = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.form.endTimeMin = e.value;\r\n\t\t\tthis.receiptsForm.endTimeMin = e.value;\r\n\t\t\tif(this.receiptType == 3){\r\n\t\t\t\tlet result = uni.$u.timeFormat(e.value,'yyyy-mm-dd');\r\n\t\t\t\tthis.form['startTime'] = result;\r\n\t\t\t\tthis.receiptsForm['startTime'] = result;\r\n\t\t\t\tthis.form['endTime'] = \"\";\r\n\t\t\t\tthis.receiptsForm['endTime'] = \"\";\r\n\t\t\t\tthis.jbTimeTabel = [];\r\n\t\t\t\tthis.form['jbTimeSteps'] = [];\r\n\t\t\t\tthis.receiptsForm['jbTimeSteps'] = [];\r\n\t\t\t\tthis.form.endTimeMax = e.value + 7 * 24 * 60 * 60 * 1000;\r\n\t\t\t\tthis.receiptsForm.endTimeMax = e.value + 7 * 24 * 60 * 60 * 1000;\r\n\t\t\t}else{\r\n\t\t\t\tlet result = uni.$u.timeFormat(e.value,'yyyy-mm-dd hh:MM');\r\n\t\t\t\tthis.form['startTime'] = result;\r\n\t\t\t\tthis.receiptsForm['startTime'] = result;\r\n\t\t\t\tthis.form['endTime'] = \"\";\r\n\t\t\t\tthis.receiptsForm['endTime'] = \"\";\r\n\t\t\t\tthis.form.workTime = '';\r\n\t\t\t\tthis.form.duration = \"\";\r\n\t\t\t\tthis.receiptsForm.workTime = '';\r\n\t\t\t\tthis.receiptsForm.duration = '';\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t\tthis.startTimeShow = false;\r\n    },\r\n    endTimeClick() {\r\n      if (this.form.startTime) {\r\n        this.endTimeShow = true;\r\n      } else {\r\n        this.$refs.uToast.show({ message: '请先选择开始时间', type: 'error' });\r\n      }\r\n    },\r\n    endTimeChange(e) {\r\n\t\t\tif(this.receiptType == 3){\r\n\t\t\t\tlet result = uni.$u.timeFormat(e.value,'yyyy-mm-dd');\r\n\t\t\t\tthis.form['endTime'] = result;\r\n\t\t\t\tthis.receiptsForm['endTime'] = result;\r\n\t\t\t\tif (this.form['startTime']) {\r\n\t\t\t\t  let startDate = this.form['startTime'];\r\n\t\t\t\t  let endDate = this.form['endTime'];\r\n\t\t\t\t  var sd = new Date(this.iosTransDate(startDate)).getTime(),\r\n\t\t\t\t\t\t\ted = new Date(this.iosTransDate(endDate)).getTime(),\r\n\t\t\t\t\t\t\ttimeDiff = ed - sd;\r\n\t\t\t\t  let arr = [];\r\n\t\t\t\t  for (var i = 0; i <= timeDiff; i += 86400000) {\r\n\t\t\t\t    var v = new Date(sd + i);\r\n\t\t\t\t    arr.push({\r\n\t\t\t\t      dayDate: uni.$u.timeFormat(v, 'yyyy-mm-dd'),\r\n\t\t\t\t      minute: 0\r\n\t\t\t\t    });\r\n\t\t\t\t  }\r\n\t\t\t\t  this.jbTimeTabel = arr;\r\n\t\t\t\t  this.form['jbTimeSteps'] = arr;\r\n\t\t\t\t  this.receiptsForm['jbTimeSteps'] = arr;\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t}else{\r\n\t\t\t\tlet result = uni.$u.timeFormat(e.value,'yyyy-mm-dd hh:MM');\r\n\t\t\t\tthis.form['endTime'] = result;\r\n\t\t\t\tthis.receiptsForm['endTime'] = result;\r\n\t\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t\t\tthis.endTimeShow = false;\r\n\t\t\t\tlet params = {};\r\n\t\t\t\tparams['empId'] = this.form.empId;\r\n\t\t\t\tparams['startTime'] = this.form.startTime + ':00';\r\n\t\t\t\tparams['endTime'] = this.form.endTime + ':59';\r\n\t\t\t\tgetDuration(params).then(r => {\r\n\t\t\t\t  if (r.data.code == 200) {\r\n\t\t\t\t    let d = r.data.data\r\n\t\t\t\t    this.form.duration = (d.totalMinute/60).toFixed(1)\r\n\t\t\t\t    this.$set(this.form, 'duration', (d.totalMinute / 60).toFixed(1));\r\n\t\t\t\t    this.form.workTime = (d.totalMinute / 60).toFixed(1);\r\n\t\t\t\t    this.receiptsForm.workTime = (d.totalMinute / 60).toFixed(1);\r\n\t\t\t\t    this.receiptsForm.duration = (d.totalMinute / 60).toFixed(1);\r\n\t\t\t\t    uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t\t\t  }\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: 'error' });\r\n\t\t\t\t});\r\n\t\t\t}\r\n    },\r\n    hourBlur(v) {\r\n      this.form.jbTimeSteps = this.jbTimeTabel;\r\n      this.receiptsForm.jbTimeSteps = this.jbTimeTabel;\r\n      let arr = this.jbTimeTabel;\r\n      let str = 0;\r\n      arr.forEach(v => {\r\n\t\t\t\tv.minute = !v.minute || v.minute > 24 ? 0 : Math.round(v.minute * Math.pow(10, 1)) / Math.pow(10, 1);\r\n\t\t\t\tif(v.minute) str += v.minute * 1;\r\n      });\r\n      this.$set(this.form, 'duration', str);\r\n      this.receiptsForm.duration = str;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    beforeUpload(index, list) {\r\n      this.maskValue = '正在上传，请等待...';\r\n      this.maskShow = true;\r\n\t\t\tthis.showProgress = true;\r\n      return true;\r\n    },\r\n    fileError(res, index, lists, name) {\r\n      this.maskShow = false;\r\n\t\t\tthis.showProgress = false;\r\n    },\r\n    fileUpload(data, index, lists, name) {\r\n      this.maskShow = false;\r\n      this.showProgress = false;\r\n      if (data.code == 200) {\r\n        this.imgList.push(data.data.absUrl);\r\n        this.receiptsForm.receiptImgs = this.imgList.join(',');\r\n        uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n        this.$refs.uToast.show({ message: '上传成功', type: 'success' });\r\n      } else {\r\n        this.$refs.uToast.show({ message: data.msg, type: 'error' });\r\n      }\r\n    },\r\n    beforeRemove(index, lists) {\r\n      this.fileList = [];\r\n      this.imgList.splice(index, 1);\r\n      this.receiptsForm.receiptImgs = this.imgList.join(',');\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    isOneWayChange(index) {\r\n      if (index == 1) {\r\n        this.form['isOneWay'] = true;\r\n        this.receiptsForm['isOneWay'] = true;\r\n        this.isOneWayType = index;\r\n      } else {\r\n        this.form['isOneWay'] = false;\r\n        this.receiptsForm['isOneWay'] = false;\r\n        this.isOneWayType = index;\r\n      }\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    vehicleChange(index) {\r\n      this.form['receiptVehicle'] = index;\r\n      this.receiptsForm['receiptVehicle'] = index;\r\n      this.vehicleType = index;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    getEmp(v) {\r\n      let f = this.form;\r\n      if (v.come == 'auditEmpIds' && !(f.empId && f.typeRoleId)) {\r\n        this.$u.toast('请先选择提交人和单据类型');\r\n        return;\r\n      }\r\n      uni.redirectTo({\r\n        url: `../selectedEmp/selectedEmp?come=${v.come}&type=${this.receiptType}&mykq=${this.mykq}&sourceType=${this.sourceType}`\r\n      });\r\n    },\r\n    fromCityBlur(v) {\r\n      this.receiptsForm['fromCity'] = v;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    toCityBlur(v) {\r\n      this.receiptsForm['toCity'] = v;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    receiptCauseBlur(e) {\r\n      this.receiptsForm['receiptCause'] = this.form.receiptCause;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    isLeaveChange(v){\r\n      this.receiptsForm['isLeave'] = v;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    leaveCauseBlur(v){\r\n      this.receiptsForm['leaveCause'] = v;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    delClick(v) {\r\n      this.duplicateEmpList.splice(v,1);\r\n      let arr = [];\r\n      this.duplicateEmpList.forEach(i => {\r\n        arr.push(i.id);\r\n      });\r\n      this.receiptsForm.duplicateEmpIds = arr.join(',');\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n\t\tcityConfirm(e){\r\n\t\t\tlet arr = e.value;\r\n\t\t\tif(this.btnType === 'from'){\r\n\t\t\t\tthis.$set(this.form,'fromCity',arr.join('-'));\r\n\t\t\t\tthis.$set(this.receiptsForm,'fromCity',arr.join('-'));\r\n\t\t\t}else{\r\n\t\t\t\tthis.$set(this.form,'toCity',arr.join('-'));\r\n\t\t\t\tthis.$set(this.receiptsForm,'toCity',arr.join('-'));\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n\t\t},\r\n    deleteClick(i) {\r\n      this.bkTimeSteps.splice(i, 1);\r\n      this.form.bkTimeSteps = this.bkTimeSteps;\r\n      this.receiptsForm.bkTimeSteps = this.bkTimeSteps;\r\n      uni.setStorageSync('receiptsForm_key', this.receiptsForm);\r\n    },\r\n    backClick() {\r\n      if (this.mykq) {\r\n        uni.redirectTo({ url: '../../mykq/mykq' });\r\n      } else {\r\n        uni.switchTab({ url:'/pages/index/index' })\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n>>> .u-form-item--left {\r\n  align-items: flex-start;\r\n}\r\n.del {\r\n  position: absolute;\r\n  top: -12rpx;\r\n  right: -6rpx;\r\n  z-index: 100;\r\n  font-size: 20rpx;\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  line-height: 32rpx;\r\n  border-radius: 10rpx;\r\n  background-color: red;\r\n}\r\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./leave.vue?vue&type=style&index=0&id=dad5a39a&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./leave.vue?vue&type=style&index=0&id=dad5a39a&scoped=true&lang=css&\""],"sourceRoot":""}
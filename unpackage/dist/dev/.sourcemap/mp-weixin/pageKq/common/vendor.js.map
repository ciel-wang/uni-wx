{"version":3,"sources":["uni-app:///pageKq/components/zzx-calendar/generateDates.js","uni-app:///pageKq/kq.js"],"names":["formatDate","date","fmt","test","replace","RegExp","$1","getFullYear","substr","length","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","judgeType","s","Object","prototype","toString","call","slice","equalDate","d1","d2","result","dateEqual","before","after","Date","getTime","gegerateDates","type","y","m","d","days","weekIndex","getDay","dobj","i","dtemp","setDate","push","time","show","fullDate","isToday","len","everydayKqData","row","req","url","method","data","summaryData","receiptTyperolelist","limitTime","getDeptList","getDuration","getAuditData","searchEmp","sendForm","myReceiptList","receiptDetails","receiptCopyDetails","receiptAuditDetails","receiptCancel","receiptReject","receiptAgree","updateForm","getSchoolData"],"mappings":"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","file":"pageKq/common/vendor.js","sourcesContent":["/*\r\n*此函数的作用是根据传入的一个日期，返回这一周的日期或者这一个月的日期，\r\n* 如果是月的话注意还包含上个月和下个月的日期，月的话总共数据有 6 * 7 = 42个\r\n*\r\n*/\r\n/* \r\n* 时间格式化函数\r\n* 重要提示，微信小程序new Date('2020-04-16')在ios中无法获取时间对象\r\n* 解决方式: 建议将时间都格式化成'2020/04/16 00:00:00'的格式\r\n* 函数示例: formatDate(new Date(), 'YYYY/MM/dd hh:mm:ss')\r\n*/\r\nexport const formatDate = (date, fmt) => {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n  }\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  }\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + ''\r\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str))\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\nconst padLeftZero = (str) => {\r\n  return ('00' + str).substr(str.length)\r\n}\r\n\r\nexport const judgeType = (s) => {\r\n\t// 函数返回数据的具体类型\r\n\treturn Object.prototype.toString.call(s).slice(8,-1);\r\n}\r\n\r\nexport const equalDate = (d1, d2) => {\r\n\tlet result = false;\r\n\tif (d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate()) {\r\n\t\tresult = true;\r\n\t}\r\n\treturn result;\r\n}\r\n/* 比较时间,时间格式为2020-04-04\r\n*/\r\nexport const dateEqual = (before, after) => {\r\n\tbefore = new Date(before.replace('-', '/').replace('-', '/'))\r\n\tafter = new Date(after.replace('-', '/').replace('-', '/'))\r\n\tif (before.getTime() - after.getTime() === 0) {\r\n\t\treturn true\r\n\t} else {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const gegerateDates = (date = new Date(), type='week') => {\r\n\tconst result = [];\r\n\tif (judgeType(date) === 'Date') {\r\n\t\t// 年，月，日\r\n\t\tconst y = date.getFullYear();\r\n\t\tconst m = date.getMonth();\r\n\t\tconst d = date.getDate();\r\n\t\tconst days = new Date(y, m+1, 0).getDate();\r\n\t\t// 获取日期是星期几\r\n\t\tlet weekIndex = date.getDay() === 0 ? 7 : date.getDay();\r\n\t\t\r\n\t\tif (type === 'month') {\r\n\t\t\tconst dobj = new Date(y,m,1);\r\n\t\t\tweekIndex = dobj.getDay() === 0 ? 7 : dobj.getDay();\r\n\t\t}\r\n\t\tif (type === 'week') {\r\n\t\t\tfor(let i = weekIndex - 1; i >0; i--) {\r\n\t\t\t\tconst dtemp = new Date(y,m,d);\r\n\t\t\t\tdtemp.setDate(dtemp.getDate() - i);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttime: dtemp,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tfullDate: formatDate(dtemp, 'yyyy-MM-dd'),\r\n\t\t\t\t\tisToday: equalDate(new Date(), dtemp)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i <= 7 - weekIndex; i++) {\r\n\t\t\t\tconst dtemp = new Date(y,m,d);\r\n\t\t\t\tdtemp.setDate(dtemp.getDate() + i);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttime: dtemp,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tfullDate: formatDate(dtemp, 'yyyy-MM-dd'),\r\n\t\t\t\t\tisToday: equalDate(new Date(), dtemp)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else if (type === 'month') {\r\n\t\t\t// 上个月\r\n\t\t\tfor(let i = weekIndex - 1; i > 0; i--) {\r\n\t\t\t\tconst dtemp = new Date(y,m,1);\r\n\t\t\t\tdtemp.setDate(dtemp.getDate() - i);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttime: dtemp,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tfullDate: formatDate(dtemp, 'yyyy-MM-dd'),\r\n\t\t\t\t\tisToday: equalDate(new Date(), dtemp)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// 这个月的日期\r\n\t\t\tfor (let i = 0; i < days; i++) {\r\n\t\t\t\tconst dtemp = new Date(y,m,1);\r\n\t\t\t\tdtemp.setDate(dtemp.getDate() + i);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttime: dtemp,\r\n\t\t\t\t\tshow: true,\r\n\t\t\t\t\tfullDate: formatDate(dtemp, 'yyyy-MM-dd'),\r\n\t\t\t\t\tisToday: equalDate(new Date(), dtemp)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst len = 42 - result.length;\r\n\t\t\t// 下个月的日期\r\n\t\t\tfor (let i = 1; i <= len;i++) {\r\n\t\t\t\tconst dtemp = new Date(y,m+1,0);\r\n\t\t\t\tdtemp.setDate(dtemp.getDate() + i);\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\ttime: dtemp,\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t\tfullDate: formatDate(dtemp, 'yyyy-MM-dd'),\r\n\t\t\t\t\tisToday: equalDate(new Date(), dtemp)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\t\r\n}\r\n","import {req} from \"@/utils/request.js\"\r\n\r\nexport const everydayKqData = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/daysts/everyday/collect',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const summaryData = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/daysts/range/details',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\n\r\n\r\nexport const receiptTyperolelist = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/typeroles',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const limitTime = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/initdata',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const getDeptList = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/dept/emps',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const getDuration = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/compute/working/betweentime',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const getAuditData = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/audit/emps',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const searchEmp = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/dept/search/emp',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const sendForm = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/generate',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const myReceiptList = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/submit/list',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptDetails = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/details',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptCopyDetails = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/copy/list',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptAuditDetails = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/audit/list',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptCancel = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/cancel',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptReject = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/reject',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const receiptAgree = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/consent',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\n\r\nexport const updateForm = (row) => {\r\n  return req({\r\n    url: '/iot-wx/kq/receipt/update',\r\n    method: 'post',\r\n    data:row\r\n  })\r\n}\r\nexport const getSchoolData = (row) => {\r\n  return req({\r\n    url: '/iot-wx/common/schools',\r\n    method: 'get',\r\n    data:row\r\n  })\r\n}"],"sourceRoot":""}
{"version":3,"sources":["uni-app:///main.js","webpack:///F:/HWD/test/pageKq/receiptDetail/receiptDetail.vue?cc0c","webpack:///F:/HWD/test/pageKq/receiptDetail/receiptDetail.vue?0e21","webpack:///F:/HWD/test/pageKq/receiptDetail/receiptDetail.vue?0dac","webpack:///F:/HWD/test/pageKq/receiptDetail/receiptDetail.vue?b114","uni-app:///pageKq/receiptDetail/receiptDetail.vue","webpack:///F:/HWD/test/pageKq/receiptDetail/receiptDetail.vue?1a73"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uIcon","myCard","uCellGroup","uCell","uImage","myTimeAxis","uAvatar","myButton","uPopup","uForm","uFormItem","uInput","uButton","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","form","jbTimeSteps","length","receiptType","l0","__map","v","i","$orig","__get_orig","g1","dayDate","substr","g2","receiptImgs","g3","receiptTogether","g4","empName","g5","createTime","l1","auditEmps","g6","g7","auditStatus","auditTime","g8","nextAuditEmpId","nextAuditEmpName","g9","duplicateEmps","l2","g10","l3","g11","_isMounted","e0","$event","togetherShow","e1","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","receiptStatus","stateIcon","stateColor","typeRoleTitle","receiptCauseTitle","who","receiptId","leave","togetherName","form2","formShow","btnType","onLoad","onShow","methods","cancelEditClick","minute","uni","url","id","type","setTimeout","rejectAgreeClick","viewImg","urls","initData","d","arr","submit","auditCause","nextAuditEmpClick","backClick"],"mappings":"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","file":"pageKq/receiptDetail/receiptDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pageKq/receiptDetail/receiptDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./receiptDetail.vue?vue&type=template&id=e411aed2&scoped=true&\"\nvar renderjs\nimport script from \"./receiptDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./receiptDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./receiptDetail.vue?vue&type=style&index=0&id=e411aed2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e411aed2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageKq/receiptDetail/receiptDetail.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receiptDetail.vue?vue&type=template&id=e411aed2&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    myCard: function () {\n      return import(\n        /* webpackChunkName: \"components/my-card\" */ \"@/components/my-card.vue\"\n      )\n    },\n    uCellGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uni_modules/uview-ui/components/u-cell-group/u-cell-group.vue\"\n      )\n    },\n    uCell: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-image/u-image\" */ \"@/uni_modules/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    myTimeAxis: function () {\n      return import(\n        /* webpackChunkName: \"components/my-time-axis\" */ \"@/components/my-time-axis.vue\"\n      )\n    },\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-avatar/u-avatar\" */ \"@/uni_modules/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    myButton: function () {\n      return import(\n        /* webpackChunkName: \"components/my-button\" */ \"@/components/my-button.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-toast/u-toast\" */ \"@/uni_modules/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.form.jbTimeSteps &&\n    _vm.form.jbTimeSteps.length > 0 &&\n    _vm.form.receiptType == 3\n  var l0 = g0\n    ? _vm.__map(_vm.form.jbTimeSteps, function (v, i) {\n        var $orig = _vm.__get_orig(v)\n        var g1 = v.dayDate && v.dayDate.substr(0, 10)\n        return {\n          $orig: $orig,\n          g1: g1,\n        }\n      })\n    : null\n  var g2 = _vm.form.receiptImgs.length\n  var g3 = _vm.form.receiptTogether.length\n  var g4 =\n    _vm.form.empName && _vm.form.empName.substr(_vm.form.empName.length - 2)\n  var g5 = _vm.form.createTime.substr(5, 11)\n  var l1 = _vm.__map(_vm.form.auditEmps, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    var g6 = v.empName\n      ? v.empName && v.empName.substr(v.empName.length - 2)\n      : null\n    var g7 =\n      v.auditStatus == 3 || v.auditStatus == 4\n        ? v.auditTime.substr(5, 11)\n        : null\n    return {\n      $orig: $orig,\n      g6: g6,\n      g7: g7,\n    }\n  })\n  var g8 = _vm.nextAuditEmpId\n    ? _vm.nextAuditEmpName &&\n      _vm.nextAuditEmpName.substr(_vm.nextAuditEmpName.length - 2)\n    : null\n  var g9 = _vm.form.duplicateEmps.length\n  var l2 = _vm.__map(_vm.form.duplicateEmps, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    var g10 = v.empName && v.empName.substr(v.empName.length - 2)\n    return {\n      $orig: $orig,\n      g10: g10,\n    }\n  })\n  var l3 = _vm.__map(_vm.form.receiptTogether, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    var g11 = v.empName && v.empName.substr(v.empName.length - 2)\n    return {\n      $orig: $orig,\n      g11: g11,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.togetherShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.togetherShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        l1: l1,\n        g8: g8,\n        g9: g9,\n        l2: l2,\n        l3: l3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receiptDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receiptDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<movable-area style=\"width: 100%; height: 100%\">\r\n\t\t\t<movable-view direction=\"all\" :out-of-bounds=\"false\">\r\n\t\t\t\t<u-icon name=\"fanhui2\" custom-prefix=\"custom-icon\" size=\"80\" color=\"#909399\" @click=\"backClick\"></u-icon>\r\n\t\t\t</movable-view>\r\n\t\t\t\r\n\t\t\t<scroll-view scroll-y style=\"height: calc(100% - 67px);width: 100%;\">\r\n\t\t\t\t<my-card margin=\"0 0 20rpx 0\" padding=\"0\">\r\n\t\t\t\t\t<u-cell-group>\r\n\t\t\t\t\t\t<view class=\"state\">\r\n\t\t\t\t\t\t\t<u-icon :name=\"stateIcon\" custom-prefix=\"custom-icon\" size=\"140\" :color=\"stateColor\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view style=\"padding: 32rpx 32rpx 12rpx;color: #606266;\">\r\n\t\t\t\t\t\t\t单号:<text style=\"color: #909399;margin-left: 16rpx;\">{{form.receiptNo}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell title=\"提交人:\" :value=\"form.empName\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell title=\"所在部门:\" :value=\"form.deptName\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell :title=\"typeRoleTitle\" :value=\"form.typeRoleName\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType == 2\" title=\"交通工具:\" :value=\"form.receiptVehicle1\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType == 2\" title=\"单程往返:\" :value=\"form.isOneWay1\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType == 2\" title=\"出发城市:\" :value=\"form.fromCity\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType == 2\" title=\"目的城市:\" :value=\"form.toCity\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType != 4\" title=\"开始时间:\" :value=\"form.startTimes\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType != 4\" title=\"结束时间:\" :value=\"form.endTimee\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType == 4\" title=\"补卡时间:\" :border=\"false\">\r\n\t\t\t\t\t\t\t<view slot=\"right-icon\" style=\"flex: 1;color: #303133;\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(v,i) in form.bkTimeSteps\" :key=\"i\" class=\"u-m-b-10\">{{ v }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</u-cell>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view v-if=\"form.jbTimeSteps && form.jbTimeSteps.length>0 && form.receiptType == 3\">\r\n\t\t\t\t\t\t\t<view class=\"u-border u-flex fw700 u-p-t-10 u-p-b-10 u-text-center\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-border-right u-width-50\">加班时间</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-width-50\">加班时长(小时)</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"u-border u-flex u-p-t-10 u-p-b-10 u-text-center\" \r\n\t\t\t\t\t\t\t\tv-for=\"(v, i) in form.jbTimeSteps\" :key=\"i\" \r\n\t\t\t\t\t\t\t\tstyle=\"border-top: none;\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-border-right u-width-50\">{{ v.dayDate && v.dayDate.substr(0,10) }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-width-50 u-p-l-10 u-p-r-10\">{{ v.minute && v.minute/60 }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell v-if=\"form.receiptType != 4\" title=\"总时长(小时):\" :value=\"form.duration\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<u-cell :title=\"receiptCauseTitle\" :value=\"form.receiptCause\" :border=\"false\"></u-cell>\r\n\t\t\t\t\t\t<view class=\"u-p-r-32 u-p-l-32 u-p-t-12 u-p-b-12 u-flex u-width-100\" v-if=\"form.receiptImgs.length\">\r\n\t\t\t\t\t\t\t<u-image \r\n\t\t\t\t\t\t\t\tv-for=\"(v,i) in form.receiptImgs\" :key=\"i\"\r\n\t\t\t\t\t\t\t\t:src=\"form.staticPrefix + v\" \r\n\t\t\t\t\t\t\t\twidth=\"210rpx\" height=\"210rpx\" \r\n\t\t\t\t\t\t\t\tcustomStyle=\"margin-right:10rpx;\"\r\n\t\t\t\t\t\t\t\t@click=\"viewImg(form.staticPrefix+v)\"></u-image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t  <u-cell \r\n\t\t\t\t\t\t\tv-if=\"form.receiptType == 1 && form.empType == 1\" \r\n\t\t\t\t\t\t\ttitle=\"是否离校\" \r\n\t\t\t\t\t\t\t:value=\"form.isLeave ? '是' : '否'\" \r\n\t\t\t\t\t\t\t:border=\"false\"></u-cell>\r\n\t\t\t\t\t  <u-cell \r\n\t\t\t\t\t\t\tv-if=\"form.receiptType == 1 && form.empType == 1\" \r\n\t\t\t\t\t\t\ttitle=\"外出去向\" \r\n\t\t\t\t\t\t\t:value=\"form.leaveCause\" \r\n\t\t\t\t\t\t\t:border=\"false\"></u-cell>\r\n\t\t\t\t\t</u-cell-group>\r\n\t\t\t\t</my-card>\r\n\t\t\t\t\r\n\t\t\t\t<my-card title=\"同行人\" showHead headBorderBottom border-radius=\"0\" margin=\"0 0 20rpx 0\" v-if=\"form.receiptTogether.length\">\r\n\t\t\t\t\t<view @click=\"togetherShow = true\" class=\"u-m-b-30\">{{togetherName}}</view>\r\n\t\t\t\t</my-card>\r\n\t\t\t\t\r\n\t\t\t\t<my-card title=\"审批流程\" border-radius=\"0\" margin=\"0\" padding=\"30rpx 30rpx 0\">\r\n\t\t\t\t\t<my-time-axis nodeTop=\"-8\">\r\n\t\t\t\t\t\t<template v-slot:node>\r\n\t\t\t\t\t\t\t<view class=\"u-rela\">\r\n\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t:text=\"form.empName && form.empName.substr(form.empName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-shenhetongguo minIcon\" style=\"color: #52C41A;\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t\t<view class=\"u-flex u-row-between u-col-top u-p-b-30\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view>发起申请</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"form.initiatorEmpName\">由{{form.initiatorEmpName}}代{{form.empName}}提交</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else>{{form.empName}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>{{form.createTime.substr(5,11)}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<my-time-axis nodeTop=\"-8\" v-for=\"(v,i) in form.auditEmps\" :key=\"i\">\r\n\t\t\t\t\t\t<template v-slot:node>\r\n\t\t\t\t\t\t\t<view class=\"u-rela\" v-if=\"v.empName\">\r\n\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t:text=\"v.empName && v.empName.substr(v.empName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\tclass=\"custom-icon custom-icon-shenhezhong minIcon\" style=\"color: #FF9F40;\" \r\n\t\t\t\t\t\t\t\t\tv-if=\"v.auditStatus == 1 || v.auditStatus == 2\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-shenhetongguo minIcon\" style=\"color: #52C41A;\" v-if=\"v.auditStatus == 3\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-shenhebutongguo minIcon\" style=\"color: #FF5736;\" v-if=\"v.auditStatus == 4\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t\t\t<view class=\"u-flex u-row-between u-col-top\">\r\n\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t<view>审核人</view>\r\n\t\t\t\t\t\t\t\t\t\t<view>{{v.empName}}\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"v.auditStatus == 1 || v.auditStatus == 2\">(审批中)</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"v.auditStatus == 3\">(已同意)</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"v.auditStatus == 4\">(已拒绝)</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"v.auditStatus == 3 || v.auditStatus == 4\">{{v.auditTime.substr(5,11)}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\tv-if=\"v.auditStatus == 3 || v.auditStatus == 4\" \r\n\t\t\t\t\t\t\t\t\tclass=\"u-m-t-10\" style=\"background-color: #f5f6f8;padding: 8rpx;\">{{v.auditCause}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-p-16\"></view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<my-time-axis nodeTop=\"-8\" v-if=\"leave > 0 && who == 'you' && (receiptStatus == 2 || receiptStatus ==1)\">\r\n\t\t\t\t\t\t<template v-slot:node>\r\n\t\t\t\t\t\t\t<view class=\"u-rela\" v-if=\"nextAuditEmpId\">\r\n\t\t\t\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t:text=\"nextAuditEmpName && nextAuditEmpName.substr(nextAuditEmpName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-shenhezhong minIcon\" style=\"color: #FF9F40;\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"u-rela\" v-else>\r\n\t\t\t\t\t\t\t\t<u-avatar shape=\"square\" size=\"80\" text=\"审批人\" :fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-shenhezhong minIcon\" style=\"color: #FF9F40;\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t\t<view class=\"u-flex u-col-top u-p-b-30\">\r\n\t\t\t\t\t\t\t\t<view class=\"u-m-r-20\" v-if=\"nextAuditEmpId\">\r\n\t\t\t\t\t\t\t\t\t<view>审核人</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{nextAuditEmpName}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view>请选择审批人</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"custom-icon custom-icon-tianjia\" style=\"font-size: 76rpx;\" @click=\"nextAuditEmpClick\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<my-time-axis nodeTop=\"-8\" :isShowLine=\"false\">\r\n\t\t\t\t\t\t<template v-slot:node>\r\n\t\t\t\t\t\t\t<u-avatar shape=\"square\" size=\"80\" :fontSize=\"46\" icon=\"custom-icon-chaosong\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-slot:content>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view>抄送人</view>\r\n\t\t\t\t\t\t\t\t<view>抄送{{form.duplicateEmps.length}}人</view>\r\n\t\t\t\t\t\t\t\t<view class=\"u-flex u-m-t-10 u-flex-wrap\">\r\n\t\t\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(v,i) in form.duplicateEmps\" :key=\"i\" \r\n\t\t\t\t\t\t\t\t\t\tclass=\"u-m-r-10 u-text-center u-m-b-8 u-flex-col u-col-center\" \r\n\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100rpx;\">\r\n\t\t\t\t\t\t\t\t\t\t<u-avatar \r\n\t\t\t\t\t\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t\t\t\t\t\t:text=\"v.empName && v.empName.substr(v.empName.length-2)\" \r\n\t\t\t\t\t\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"u-line-1\">{{v.empName}}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</my-time-axis>\r\n\t\t\t\t</my-card>\r\n\t\t\t</scroll-view>\r\n\t\t</movable-area>\r\n\t\t\r\n\t\t<view v-if=\"who == 'me' && (receiptStatus != 4  && receiptStatus != 5 && receiptStatus != 7)\">\r\n\t\t\t<my-button stype=\"even\" @click=\"cancelEditClick\">\r\n\t\t\t\t<template slot=\"left\">撤销</template>\r\n\t\t\t\t修改\r\n\t\t\t</my-button>\r\n\t\t</view>\r\n\t\t<view v-if=\"who == 'you' && (receiptStatus == 2 || receiptStatus == 1)\">\r\n\t\t\t<my-button stype=\"even\" @click=\"rejectAgreeClick\">\r\n\t\t\t\t<template slot=\"left\">拒绝</template>\r\n\t\t\t\t同意\r\n\t\t\t</my-button>\r\n\t\t</view>\r\n\t\t\r\n\t\t<u-popup v-model=\"formShow\" mode=\"bottom\">\r\n\t\t\t<u-form :model=\"form2\" ref=\"uForm\" label-width=\"140\" class=\"u-p-t-60 u-p-l-30\" style=\"margin-bottom: 200rpx;\">\r\n\t\t\t\t<u-form-item label=\"拒绝原因\" prop=\"auditCause\" v-if=\"btnType === 'reject'\">\r\n\t\t\t\t\t<u-input v-model=\"form2.auditCause\" placeholder=\"请填写拒绝原因\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t\r\n\t\t\t\t<u-form-item label=\"审批意见\" prop=\"auditCause\" v-if=\"btnType === 'agree'\">\r\n\t\t\t\t\t<u--textarea\r\n\t\t\t\t\t\tv-model=\"form2.auditCause\" \r\n\t\t\t\t\t\tplaceholder=\"请填写审批意见\" \r\n\t\t\t\t\t\tcount border=\"none\" maxlength=\"200\" autoHeight></u--textarea>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t</u-form>\r\n\t\t\t<u-button type=\"primary\" @click=\"submit\">确定</u-button>\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<u-popup :show=\"togetherShow\" mode=\"bottom\" height=\"600rpx\" :closeable=\"true\" @close=\"togetherShow = false\">\r\n\t\t\t<view class=\"u-text-center u-p-20 u-font-30 bgfff fw700\" style=\"position: fixed;z-index: 2;\">同行人</view>\r\n\t\t\t<view class=\"u-p-t-82\" style=\"max-height: 500rpx;\">\r\n\t\t\t\t<view v-for=\"(v,i) in form.receiptTogether\" :key=\"i\" class=\"u-flex u-p-10 u-p-l-30\">\r\n\t\t\t\t\t<u-avatar\r\n\t\t\t\t\t\tshape=\"square\" size=\"80\" \r\n\t\t\t\t\t\t:text=\"v.empName && v.empName.substr(v.empName.length-2)\" \r\n\t\t\t\t\t\t:fontSize=\"32\" bg-color=\"#007cff\"></u-avatar>\r\n\t\t\t\t\t<view>{{v.empName}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { transDate } from '@/utils/my_function.js'\r\n\timport {receiptDetails,receiptCancel,receiptReject,receiptAgree} from \"../kq.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform:{duplicateEmps:[],empName:\"\",auditEmps:[],createTime:\"\",receiptImgs:[],receiptTogether:[]},\r\n\t\t\t\treceiptStatus:\"\",\r\n\t\t\t\tstateIcon:\"\",\r\n\t\t\t\tstateColor:\"\",\r\n\t\t\t\ttypeRoleTitle:\"\",\r\n\t\t\t\treceiptCauseTitle:\"\",\r\n\t\t\t\twho:\"\",\r\n\t\t\t\treceiptId:\"\",\r\n\t\t\t\tleave:1,\r\n\t\t\t\tnextAuditEmpId:\"\",\r\n\t\t\t\tnextAuditEmpName:\"\",\r\n\t\t\t\tauditStatus:\"\",\r\n\t\t\t\ttogetherName:\"\",\r\n\t\t\t\ttogetherShow:false,\r\n\t\t\t\t\r\n\t\t\t\tform2:{},\r\n\t\t\t\tformShow:false,\r\n\t\t\t\tbtnType:\"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.who = options.who;\r\n\t\t\tthis.id = options.id;\r\n\t\t\tif(options.form){\r\n\t\t\t\tlet arr = JSON.parse(options.form)\r\n\t\t\t\tthis.nextAuditEmpId = arr[0].auditEmpId;\r\n\t\t\t\tthis.nextAuditEmpName = arr[0].empName;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.initData();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcancelEditClick(type){\r\n\t\t\t\tif(type === 'left'){\r\n\t\t\t\t\treceiptCancel({id:this.receiptId}).then(r => {\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: r.data.msg, type: 'success', })\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tuni.redirectTo({ url:'../oabills/oabills?who=me' })\r\n\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: 'error' })\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet form = {...this.form};\r\n\t\t\t\tform.duplicateEmpList = form.duplicateEmps;\r\n\t\t\t\tform.duplicateEmpIds = form.duplicateEmps.map(v => v.id).join(\",\");\r\n\t\t\t\t\r\n\t\t\t\tif(form.auditEmps.length){\r\n\t\t\t\t\tform.auditEmpIds = form.auditEmps[0].id;\r\n\t\t\t\t\tform.auditEmpName = form.auditEmps[0].empName;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tform.receiptImgs = form.receiptImgs && form.receiptImgs.map(v => form.staticPrefix + v).join(\",\")\r\n\t\t\t\t\r\n\t\t\t\tlet jbsteps = form.jbTimeSteps ? form.jbTimeSteps : [];\r\n\t\t\t\tform.jbTimeSteps = jbsteps.map(v => ({ dayDate:v.dayDate ? v.dayDate.substr(0,10) : '',minute:Number((v.minute/60).toFixed(2)) }));\r\n\t\t\t\t\r\n\t\t\t\tform.endTimeMax = form.startTime ? this.$u.timeFormat((new Date(transDate(form.startTime)).getTime())+7*24*60*60*1000, 'yyyy-mm-dd') : 0;\r\n\t\t\t\tform.startTime = form.startTimes\r\n\t\t\t\tform.endTime = form.endTimee;\r\n\t\t\t\tform.isLeave = form.isLeave ? 1 : 0;\r\n\t\t\t\tuni.setStorageSync(\"receiptsForm_key\", form);\r\n\t\t\t\tuni.navigateTo({ url:`../leave/leave?type=${form.receiptType}&sourceType=edit` })\r\n\t\t\t},\r\n\t\t\trejectAgreeClick(type){\r\n\t\t\t\tthis.btnType = type === 'left' ? 'reject' : 'agree';\r\n\t\t\t\tthis.formShow = true;\r\n\t\t\t},\r\n\t\t\tviewImg(img){\r\n\t\t\t\tuni.previewImage({ urls:[img] })\r\n\t\t\t},\r\n\t\t\tinitData(){\r\n\t\t\t\treceiptDetails({id:this.id}).then(r => {\r\n\t\t\t\t\tif(r.data.code == 200){\r\n\t\t\t\t\t\tlet d = r.data.data;\r\n            d.deptName = d.deptName ? d.deptName : (d.gradeName + d.className)\r\n\t\t\t\t\t\tthis.receiptId = d.id;\r\n\t\t\t\t\t\tif(d.auditEmps.length){\r\n\t\t\t\t\t\t\tlet arr = d.auditEmps\r\n\t\t\t\t\t\t\tarr.forEach(v => {\r\n\t\t\t\t\t\t\t\tif(d.currEmpId == v.id){\r\n\t\t\t\t\t\t\t\t\tthis.auditStatus = v.auditStatus;\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptTogether && d.receiptTogether.length>0){\r\n\t\t\t\t\t\t\tlet arr = []\r\n\t\t\t\t\t\t\td.receiptTogether.forEach(v => {\r\n\t\t\t\t\t\t\t\tarr.push(v.empName)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tif(arr.length > 3){\r\n\t\t\t\t\t\t\t\tthis.togetherName = arr.slice(0,3).join(\",\") + `等${arr.length}人`\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.togetherName = arr.join(\",\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.leave = d.leave - d.auditEmps.length;\r\n\t\t\t\t\t\tif(d.receiptVehicle == 1){\r\n\t\t\t\t\t\t\td.receiptVehicle1 = \"飞机\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptVehicle == 2){\r\n\t\t\t\t\t\t\td.receiptVehicle1 = \"火车\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptVehicle == 3){\r\n\t\t\t\t\t\t\td.receiptVehicle1 = \"汽车\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptVehicle == 4){\r\n\t\t\t\t\t\t\td.receiptVehicle1 = \"其他\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.isOneWay){\r\n\t\t\t\t\t\t\td.isOneWay1 = \"单程\"\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td.isOneWay1 = \"往返\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptType == 3){\r\n\t\t\t\t\t\t\td.startTimes = d.startTime.substr(0,10)\r\n\t\t\t\t\t\t\td.startTime = d.startTime.substr(0,10)\r\n\t\t\t\t\t\t\tif(d.endTime){\r\n\t\t\t\t\t\t\t\td.endTimee = d.endTime.substr(0,10)\r\n\t\t\t\t\t\t\t\td.endTime = d.endTime.substr(0,10)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(d.startTime){\r\n\t\t\t\t\t\t\t\td.startTimes = d.startTime.substr(0,16)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(d.endTime){\r\n\t\t\t\t\t\t\t\td.endTimee = d.endTime.substr(0,16)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptType == 4 && d.bkTimeSteps){\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\t\t\td.bkTimeSteps.forEach(v => {\r\n\t\t\t\t\t\t\t\tarr.push(v.substr(0,16))\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\td.bkTimeSteps = arr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptImgs && d.receiptImgs.length>5){\r\n\t\t\t\t\t\t\td.receiptImgs = d.receiptImgs.split(\",\")\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td.receiptImgs = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\td.duration = (d.duration/60).toFixed(1);\r\n\t\t\t\t\t\tif(d.receiptStatus == 2){\r\n\t\t\t\t\t\t\tthis.stateIcon = \"shenpi-shenpizhong\";\r\n\t\t\t\t\t\t\tthis.stateColor = \"#ff9227\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptStatus == 3){\r\n\t\t\t\t\t\t\tthis.stateIcon = \"shenpi-yitongyi\";\r\n\t\t\t\t\t\t\tthis.stateColor = \"#00C431\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptStatus == 4){\r\n\t\t\t\t\t\t\tthis.stateIcon = \"shenpi-yijujue\";\r\n\t\t\t\t\t\t\tthis.stateColor = \"#d81e06\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptStatus == 5){\r\n\t\t\t\t\t\t\tthis.stateIcon = \"shenpi-yichexiao\";\r\n\t\t\t\t\t\t\tthis.stateColor = \"#cdcdcd\";\r\n\t\t\t\t\t\t}\r\n            if(d.receiptStatus == 7){\r\n            \tthis.stateIcon = \"yizuofei\";\r\n            \tthis.stateColor = \"#cdcdcd\";\r\n            }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.receiptStatus = d.receiptStatus;\r\n\t\t\t\t\t\tif(d.receiptType == 1){\r\n\t\t\t\t\t\t\tthis.typeRoleTitle = \"请假类型:\"\r\n\t\t\t\t\t\t\tthis.receiptCauseTitle = \"请假事由:\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptType == 2){\r\n\t\t\t\t\t\t\tthis.typeRoleTitle = \"出差类型:\"\r\n\t\t\t\t\t\t\tthis.receiptCauseTitle = \"出差事由:\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptType == 3){\r\n\t\t\t\t\t\t\tthis.typeRoleTitle = \"加班类型:\"\r\n\t\t\t\t\t\t\tthis.receiptCauseTitle = \"加班事由:\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(d.receiptType == 4){\r\n\t\t\t\t\t\t\tthis.typeRoleTitle = \"补卡类型:\"\r\n\t\t\t\t\t\t\tthis.receiptCauseTitle = \"补卡事由:\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.form = r.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmit(){\r\n\t\t\t\tlet { auditCause } = this.form2;\r\n\t\t\t\tif(this.btnType === 'reject'){\r\n\t\t\t\t\tif(!auditCause) return this.$refs.uToast.show({ message: \"请填写拒绝原因\", type: 'error' });\r\n\t\t\t\t\treceiptReject({ receiptId:this.receiptId, auditCause }).then(r => {\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: r.data.msg, type: 'success' })\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\tuni.redirectTo({ url:'../oabills/oabills?who=you' })\r\n\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\tthis.formShow = false;\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tthis.$refs.uToast.show({ message: r.data.msg, type: 'error' })\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(!auditCause) return this.$refs.uToast.show({ message: \"请填写审批意见\", type: 'error' });\r\n\t\t\t\tif(this.leave >0 && !this.nextAuditEmpId){\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: \"请选择审批人\", type: 'error' })\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treceiptAgree({ auditCause, receiptId:this.receiptId, nextAuditEmpId:this.nextAuditEmpId }).then(r => {\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: r.data.msg, type: 'success' })\r\n\t\t\t\t\tthis.formShow = false;\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tuni.redirectTo({ url:'../oabills/oabills?who=you' })\r\n\t\t\t\t\t},2000)\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$refs.uToast.show({ message: err, type: 'error' })\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnextAuditEmpClick(){\r\n\t\t\t\tlet form = {}\r\n\t\t\t\tform.empId = this.form.empId;\r\n\t\t\t\tform.typeRoleId = this.form.typeRoleId;\r\n\t\t\t\tform.who = this.who;\r\n\t\t\t\tform.id = this.id;\r\n\t\t\t\tuni.navigateTo({ url:`../selectedEmp/selectedEmp?come=details&form=${JSON.stringify(form)}` })\r\n\t\t\t},\r\n\t\t\tbackClick(){\r\n\t\t\t\tuni.navigateTo({ url:`../oabills/oabills?who=${this.who}` })\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t>>>.u-cell{\r\n\t\talign-items: baseline;\r\n\t}\r\n\t>>>.u-cell__body{\r\n\t\tpadding: 10rpx 30rpx !important;\r\n\t\talign-items: flex-start !important;\r\n\t}\r\n\t>>>.u-cell_title{\r\n\t\tmin-width: 120rpx !important;\r\n\t\tmax-width: 180rpx !important;\r\n\t}\r\n\t>>>.u-cell__value{\r\n\t\ttext-align: left;\r\n\t\tmargin-left: 20rpx;\r\n\t\tflex: inherit !important;\r\n\t}\r\n\t.minIcon{\r\n\t\tposition: absolute;\r\n\t\ttop: 15px;\r\n\t\tright: -4px;\r\n\t\tz-index: 10;\r\n\t}\r\n\t.state{\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 99;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receiptDetail.vue?vue&type=style&index=0&id=e411aed2&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./receiptDetail.vue?vue&type=style&index=0&id=e411aed2&scoped=true&lang=css&\""],"sourceRoot":""}
<view class="data-v-52bbcd7e"><movable-area style="width:100%;height:100%;" class="data-v-52bbcd7e"><movable-view direction="all" out-of-bounds="{{false}}" class="data-v-52bbcd7e"><u-icon vue-id="4a7e7386-1" name="fanhui2" custom-prefix="custom-icon" size="80" color="#909399" data-event-opts="{{[['^click',[['backClick']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l"></u-icon></movable-view><scroll-view style="height:calc(100% - 67px);width:100%;" scroll-y="{{true}}" class="data-v-52bbcd7e"><u-form vue-id="4a7e7386-2" model="{{form}}" border-bottom="{{false}}" label-width="140" data-ref="uForm" class="data-v-52bbcd7e vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><my-card vue-id="{{('4a7e7386-3')+','+('4a7e7386-2')}}" showFoot="{{false}}" showHead="{{true}}" headBorderBottom="{{true}}" margin="0 20rpx 20rpx" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','head']}}"><view class="u-font-32 u-main-color data-v-52bbcd7e" slot="head">添加来访人员</view><view class="data-v-52bbcd7e"><block wx:if="{{$root.g0>0}}"><view style="position:relative;width:220rpx;height:220rpx;margin:0 auto;" class="data-v-52bbcd7e"><u-image style="overflow:hidden;" vue-id="{{('4a7e7386-4')+','+('4a7e7386-3')}}" src="{{imgBase64}}" shape="circle" width="200rpx" height="200rpx" data-event-opts="{{[['^click',[['imageClick',['$0'],['imgBase64']]]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l"></u-image><view data-event-opts="{{[['tap',[['deleteItem',['$event']]]]]}}" class="u-delete-icon data-v-52bbcd7e" bindtap="__e"><u-icon vue-id="{{('4a7e7386-5')+','+('4a7e7386-3')}}" name="close" size="20" color="#ffffff" class="data-v-52bbcd7e" bind:__l="__l"></u-icon></view></view></block><block wx:else><view class="u-row-center avatar u-flex u-row-center data-v-52bbcd7e"><my-upload vue-id="{{('4a7e7386-6')+','+('4a7e7386-3')}}" multiple="{{false}}" max-count="1" header="{{fileHeader}}" action="{{CodeAction}}" name="file" auto-upload="{{true}}" show-progress="{{showProgress}}" form-data="{{({mode:'VISITOR_IMG'})}}" show-tips="{{false}}" shomy-upload-list="{{true}}" before-upload="{{beforeUpload}}" data-ref="uUpload" value="{{form.img}}" data-event-opts="{{[['^onSuccess',[['fileUpload']]],['^onError',[['uploadError']]],['^input',[['__set_model',['$0','img','$event',[]],['form']]]]]}}" bind:onSuccess="__e" bind:onError="__e" bind:input="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></my-upload></view></block><view class="u-font-20 u-text-center u-light-color data-v-52bbcd7e">请上传清晰的个人照片，以便入校通行</view></view><u-form-item vue-id="{{('4a7e7386-7')+','+('4a7e7386-3')}}" label="证件类型" prop="certificateType" required="{{true}}" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','right']}}"><u-icon vue-id="{{('4a7e7386-8')+','+('4a7e7386-7')}}" slot="right" name="arrow-right" color="#c0c4cc" class="data-v-52bbcd7e" bind:__l="__l"></u-icon><u-input bind:input="__e" vue-id="{{('4a7e7386-9')+','+('4a7e7386-7')}}" disabled="{{true}}" disabledColor="#ffffff" placeholder="请选择" value="{{form.certificateType}}" data-event-opts="{{[['^input',[['__set_model',['$0','certificateType','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('4a7e7386-10')+','+('4a7e7386-3')}}" label="证件编号" prop="visitorCertificateCode" required="{{true}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','right']}}"><u-icon vue-id="{{('4a7e7386-11')+','+('4a7e7386-10')}}" slot="right" name="camera-fill" size="60" color="#3c9cff" data-event-opts="{{[['^click',[['handlerOCR']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l"></u-icon><u-input bind:input="__e" vue-id="{{('4a7e7386-12')+','+('4a7e7386-10')}}" placeholder="请填写" maxlength="18" value="{{form.visitorCertificateCode}}" data-event-opts="{{[['^input',[['__set_model',['$0','visitorCertificateCode','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><view hidden="{{!($root.g1)}}" style="position:relative;width:220rpx;height:220rpx;margin:10rpx;" class="data-v-52bbcd7e"><u-image style="width:200rpx;height:200rpx;overflow:hidden;border-radius:10rpx;" vue-id="{{('4a7e7386-13')+','+('4a7e7386-3')}}" src="{{certificateUrl}}" data-event-opts="{{[['^click',[['imageClick',['$0'],['certificateUrl']]]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l"></u-image><view data-event-opts="{{[['tap',[['deleteItem2',['$event']]]]]}}" class="u-delete-icon data-v-52bbcd7e" bindtap="__e"><u-icon vue-id="{{('4a7e7386-14')+','+('4a7e7386-3')}}" name="close" size="20" color="#ffffff" class="data-v-52bbcd7e" bind:__l="__l"></u-icon></view></view><my-upload data-custom-hidden="{{!($root.g2)}}" vue-id="{{('4a7e7386-15')+','+('4a7e7386-3')}}" multiple="{{false}}" max-count="1" upload-text="上传证件照片" header="{{fileHeader}}" action="{{CodeAction}}" name="file" auto-upload="{{true}}" show-progress="{{showProgress}}" form-data="{{({mode:'VISITOR_CERTIFICATE_IMG'})}}" show-tips="{{false}}" shomy-upload-list="{{true}}" before-upload="{{beforeUpload}}" data-ref="uUpload6" value="{{form.certificateUrl}}" data-event-opts="{{[['^onSuccess',[['certificateUpload']]],['^onError',[['uploadError']]],['^input',[['__set_model',['$0','certificateUrl','$event',[]],['form']]]]]}}" bind:onSuccess="__e" bind:onError="__e" bind:input="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></my-upload><u-form-item vue-id="{{('4a7e7386-16')+','+('4a7e7386-3')}}" label="来访人员" prop="visitorName" required="{{true}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('4a7e7386-17')+','+('4a7e7386-16')}}" placeholder="请填写" maxlength="50" value="{{form.visitorName}}" data-event-opts="{{[['^input',[['__set_model',['$0','visitorName','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('4a7e7386-18')+','+('4a7e7386-3')}}" label="性别" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-radio-group bind:input="__e" vue-id="{{('4a7e7386-19')+','+('4a7e7386-18')}}" size="38" iconSize="30" value="{{form.visitorSex}}" data-event-opts="{{[['^input',[['__set_model',['$0','visitorSex','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-radio vue-id="{{('4a7e7386-20')+','+('4a7e7386-19')}}" name="{{1}}" customStyle="margin-right:30rpx;" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}">男</u-radio><u-radio vue-id="{{('4a7e7386-21')+','+('4a7e7386-19')}}" name="{{2}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}">女</u-radio></u-radio-group></u-form-item><u-form-item vue-id="{{('4a7e7386-22')+','+('4a7e7386-3')}}" label="手机号码" prop="visitorPhone" required="{{true}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('4a7e7386-23')+','+('4a7e7386-22')}}" maxlength="{{11}}" type="number" placeholder="请填写" value="{{form.visitorPhone}}" data-event-opts="{{[['^input',[['__set_model',['$0','visitorPhone','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><block wx:if="{{isShowSourceAddr}}"><u-form-item vue-id="{{('4a7e7386-24')+','+('4a7e7386-3')}}" label="来源地" required="{{true}}" prop="sourceAddress" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','right']}}"><u-icon vue-id="{{('4a7e7386-25')+','+('4a7e7386-24')}}" slot="right" name="arrow-right" color="#c0c4cc" class="data-v-52bbcd7e" bind:__l="__l"></u-icon><u-input bind:input="__e" vue-id="{{('4a7e7386-26')+','+('4a7e7386-24')}}" disabled="{{true}}" disabledColor="#ffffff" placeholder="请填写" value="{{form.sourceAddress}}" data-event-opts="{{[['^input',[['__set_model',['$0','sourceAddress','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item></block><u-form-item vue-id="{{('4a7e7386-27')+','+('4a7e7386-3')}}" label="车牌号" prop="visitorCarNum" data-event-opts="{{[['^click',[['e2']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','right']}}"><u-icon vue-id="{{('4a7e7386-28')+','+('4a7e7386-27')}}" slot="right" name="arrow-right" color="#c0c4cc" class="data-v-52bbcd7e" bind:__l="__l"></u-icon><u-input bind:input="__e" vue-id="{{('4a7e7386-29')+','+('4a7e7386-27')}}" disabled="{{true}}" disabledColor="#ffffff" value="{{form.visitorCarNum}}" placeholder="请填写" data-event-opts="{{[['^input',[['__set_model',['$0','visitorCarNum','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item></my-card><my-card vue-id="{{('4a7e7386-30')+','+('4a7e7386-2')}}" showFoot="{{false}}" showHead="{{true}}" headBorderBottom="{{true}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default','head']}}"><view slot="head" class="data-v-52bbcd7e">添加携带物品</view><u-form-item vue-id="{{('4a7e7386-31')+','+('4a7e7386-30')}}" label="物品名称" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('4a7e7386-32')+','+('4a7e7386-31')}}" placeholder="请填写物品名称" value="{{form.goodsName}}" data-event-opts="{{[['^input',[['__set_model',['$0','goodsName','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('4a7e7386-33')+','+('4a7e7386-30')}}" label="数量" data-event-opts="{{[['^click',[['e3']]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u-input bind:input="__e" vue-id="{{('4a7e7386-34')+','+('4a7e7386-33')}}" trim="{{true}}" placeholder="请填写物品数量" disabled="{{true}}" disabledColor="#ffffff" value="{{form.goodsNum}}" data-event-opts="{{[['^input',[['__set_model',['$0','goodsNum','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u-input></u-form-item><u-form-item vue-id="{{('4a7e7386-35')+','+('4a7e7386-30')}}" label="备注" prop="note" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><u--textarea bind:input="__e" vue-id="{{('4a7e7386-36')+','+('4a7e7386-35')}}" placeholder="请填写物品型号、数量等" count="{{true}}" border="none" maxlength="100" autoHeight="{{true}}" value="{{form.note}}" data-event-opts="{{[['^input',[['__set_model',['$0','note','$event',[]],['form']]]]]}}" class="data-v-52bbcd7e" bind:__l="__l"></u--textarea></u-form-item><view class="data-v-52bbcd7e"><my-upload vue-id="{{('4a7e7386-37')+','+('4a7e7386-30')}}" multiple="{{true}}" max-count="3" name="file" width="190" file-list="{{goodsFileList}}" action="{{goodsAction}}" show-progress="{{showProgress}}" header="{{fileHeader}}" before-upload="{{beforeUpload}}" beforeRemove="{{goodsBeforeRemove}}" auto-upload="{{true}}" data-ref="uUpload4" data-event-opts="{{[['^onSuccess',[['goodsUpload']]],['^onError',[['uploadError']]]]}}" bind:onSuccess="__e" bind:onError="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></my-upload></view></my-card><block wx:if="{{$root.g3>0}}"><view class="data-v-52bbcd7e"><view class="u-m-l-40 u-m-b-10 data-v-52bbcd7e">历史来访记录</view><u-swipe-action vue-id="{{('4a7e7386-38')+','+('4a7e7386-2')}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="g4"><u-swipe-action-item vue-id="{{('4a7e7386-39-'+index)+','+('4a7e7386-38')}}" options="{{options}}" data-event-opts="{{[['^click',[['swipeClick',['$event',index]]]]]}}" bind:click="__e" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['swipeContentClick',[index]]]]]}}" class="u-p-30 u-line-1 data-v-52bbcd7e" bindtap="__e"><text class="u-m-r-20 data-v-52bbcd7e">{{item.$orig.visitorName}}</text><text class="data-v-52bbcd7e">{{item.$orig.visitorPhone}}</text></view></u-swipe-action-item></block></u-swipe-action></view></block></u-form></scroll-view></movable-area><my-button bind:click="__e" vue-id="4a7e7386-40" data-event-opts="{{[['^click',[['submit']]]]}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}">确定</my-button><u-action-sheet vue-id="4a7e7386-41" show="{{certificateTypeShow}}" actions="{{certificateTypeDic}}" title="请选择证件编号" data-event-opts="{{[['^close',[['e4']]],['^select',[['certificateTypeConfirm']]]]}}" bind:close="__e" bind:select="__e" class="data-v-52bbcd7e" bind:__l="__l"></u-action-sheet><w-picker vue-id="4a7e7386-42" visible="{{sourceAdrShow}}" mode="linkage" options="{{sourceAdrDic}}" level="{{3}}" default-type="value" data-ref="linkage" data-event-opts="{{[['^updateVisible',[['__set_sync',['$0','sourceAdrShow','$event'],['']]]],['^confirm',[['sourceAdrConfirm']]]]}}" bind:updateVisible="__e" bind:confirm="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></w-picker><u-keyboard vue-id="4a7e7386-43" mode="car" show="{{keyboardCarShow}}" data-ref="uKeyboard1" data-event-opts="{{[['^change',[['carChange']]],['^backspace',[['carBackspace']]],['^cancel',[['e5']]],['^confirm',[['e6']]]]}}" bind:change="__e" bind:backspace="__e" bind:cancel="__e" bind:confirm="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></u-keyboard><u-keyboard vue-id="4a7e7386-44" mode="number" show="{{keyboardNumShow}}" data-ref="uKeyboard2" data-event-opts="{{[['^change',[['goodsNumChange']]],['^backspace',[['goodsNumBackspace']]],['^cancel',[['e7']]],['^confirm',[['e8']]]]}}" bind:change="__e" bind:backspace="__e" bind:cancel="__e" bind:confirm="__e" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></u-keyboard><u-overlay vue-id="4a7e7386-45" show="{{maskShow}}" class="data-v-52bbcd7e" bind:__l="__l" vue-slots="{{['default']}}"><view class="w-overlay data-v-52bbcd7e">正在提交，请等待...</view></u-overlay><u-toast vue-id="4a7e7386-46" data-ref="uToast" class="data-v-52bbcd7e vue-ref" bind:__l="__l"></u-toast></view>
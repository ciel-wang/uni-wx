require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageKq/summaryDetails/summaryDetails"],{"0c03":function(t,e,n){"use strict";n.r(e);var a=n("efb2"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},8417:function(t,e,n){},"8bb8":function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("5495");a(n("66fd"));var i=a(n("fee3"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},9225:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"1e79"))},myCard:function(){return n.e("components/my-card").then(n.bind(null,"2227"))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"b1e7"))},uCollapse:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-collapse/u-collapse")]).then(n.bind(null,"5032"))},uCollapseItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-collapse-item/u-collapse-item")]).then(n.bind(null,"6f4f"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.form.xxDays&&t.form.xxDays.length+"天"),a=t.form.absenteeismMinute&&(t.form.absenteeismMinute/60).toFixed(2)+"小时",i=t.form.ccMinute&&(t.form.ccMinute/60).toFixed(2)+"小时",o=t.__map(t.form.ccArr,(function(e,n){var a=t.__get_orig(e),i=(e.minute/60).toFixed(2);return{$orig:a,g3:i}})),r=t.form.qjMinute&&(t.form.qjMinute/60).toFixed(2)+"小时",s=t.__map(t.form.qjArr,(function(e,n){var a=t.__get_orig(e),i=(e.minute/60).toFixed(2);return{$orig:a,g5:i}})),u=t.form.jbMinute&&(t.form.jbMinute/60).toFixed(2)+"小时",c=t.__map(t.form.jbArr,(function(e,n){var a=t.__get_orig(e),i=(e.minute/60).toFixed(2);return{$orig:a,g7:i}}));t.$mp.data=Object.assign({},{$root:{g0:n,g1:a,g2:i,l0:o,g4:r,l1:s,g6:u,l2:c}})},o=[]},e462:function(t,e,n){"use strict";var a=n("8417"),i=n.n(a);i.a},efb2:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("25b0"),i={components:{renCalendar:function(){n.e("pageKq/components/ren-calendar/ren-calendar").then(function(){return resolve(n("c466"))}.bind(null,n)).catch(n.oe)}},data:function(){return{activeBtn:2,form:{xxDays:[],absenteeismMinute:0,ccMinute:0,qjMinute:0,jbMinute:0,cqDays:0},month:"",week:"",nowDay:"",absenteeismDays:[],lackCardDays:[],absenteeismList:[],options:{},btnDisabled:!1}},onLoad:function(e){this.options=e,this.month=t.$u.timeFormat(new Date(this.iosTransDate(e.date)),"yyyy.mm"),this.nowDay=new Date},onReady:function(){this.monthClick(this.options.date)},methods:{lackCardDayClick:function(e){t.redirectTo({url:"../mykq/mykq?date=".concat(e.date,"&come=details")})},initData:function(){var t=this;this.btnDisabled=!0;var e={};e["dayStartDateStr"]=this.days[0],e["dayEndDateStr"]=1==this.activeBtn?this.days[1]:"",(0,a.summaryData)(e).then((function(e){if(t.btnDisabled=!1,200==e.data.code){var n=e.data.data,a=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];n.xxDays.forEach((function(e){var n=new Date(t.iosTransDate(e.dayDate));e.day=n.getMonth()+1+"."+n.getDate(),e.week=a[new Date(t.iosTransDate(e.dayDate)).getDay()]})),n.ccMinute=0,n.ccArr.forEach((function(e){var i=new Date(t.iosTransDate(e.dayDate));e.day=i.getMonth()+1+"."+i.getDate(),e.week=a[new Date(t.iosTransDate(e.dayDate)).getDay()],n.ccMinute+=e.minute})),n.qjMinute=0,n.qjArr.forEach((function(e){var i=new Date(t.iosTransDate(e.dayDate));e.day=i.getMonth()+1+"."+i.getDate(),e.week=a[new Date(t.iosTransDate(e.dayDate)).getDay()],n.qjMinute+=e.minute})),n.jbMinute=0,n.jbArr.forEach((function(e){var i=new Date(t.iosTransDate(e.dayDate));e.day=i.getMonth()+1+"."+i.getDate(),e.week=a[new Date(t.iosTransDate(e.dayDate)).getDay()],n.jbMinute+=e.minute})),t.form=n,t.lackCardDays=e.data.data.qkDays,t.absenteeismDays=e.data.data.absenteeismDays,t.$nextTick((function(){this.$refs.formRef.init()}))}else t.form={}})).catch((function(){return t.btnDisabled=!1}))},monthClick:function(e){if(!this.btnDisabled){e=this.options.date,this.activeBtn=2,this.month=t.$u.timeFormat(new Date(this.iosTransDate(e)),"yyyy.mm");var n=t.$u.timeFormat(new Date(this.iosTransDate(e)),"yyyy-mm"),a=new Date(this.iosTransDate(e)).getFullYear(),i=new Date(this.iosTransDate(e)).getMonth();this.$refs.qkRef.changYearMonth(a,i+1),this.$refs.qkRef1.changYearMonth(a,i+1),this.getMonthData(n)}},pre:function(){if(!this.btnDisabled)if(2==this.activeBtn){var e=this.changeMonth(this.month,"minu");this.month=t.$u.timeFormat(e,"yyyy.mm");var n=t.$u.timeFormat(e,"yyyy-mm");this.getMonthData(n)}else{var a=this.changeWeek(this.nowDay,"minu");this.getWeekData(a)}},next:function(){if(!this.btnDisabled)if(2==this.activeBtn){var e=this.changeMonth(this.month,"add");this.month=t.$u.timeFormat(e,"yyyy.mm");var n=t.$u.timeFormat(e,"yyyy-mm");this.getMonthData(n)}else{var a=this.changeWeek(this.nowDay,"add");this.getWeekData(a)}},getMonthData:function(t){var e=t+"-01",n=t+"-01";this.days=[e,n],this.initData()},changeMonth:function(t,e){var n=new Date(this.iosTransDate(t)),a=n.getFullYear(),i=n.getMonth(),o=n.getDate();return"add"==e?(this.$refs.qkRef.changYearMonth(a,i+2),this.$refs.qkRef1.changYearMonth(a,i+2),new Date(a,i+1,o)):(this.$refs.qkRef.changYearMonth(a,i),this.$refs.qkRef1.changYearMonth(a,i),new Date(a,i-1,o))},getWeek:function(t){var e=new Date(t),n=e.getDay(),a=e.getTime()-864e5*(n-1),i=e.getTime()+864e5*(7-n);return[a,i]},weekClick:function(){if(!this.btnDisabled){this.activeBtn=1;var t=this.getWeek(new Date);this.getWeekData(t)}},getWeekData:function(e){var n=t.$u.timeFormat(e[0],"mm.dd"),a=t.$u.timeFormat(e[1],"mm.dd");this.week=n+" - "+a;var i=t.$u.timeFormat(e[0],"yyyy-mm-dd"),o=t.$u.timeFormat(e[1],"yyyy-mm-dd");this.days=[i,o],this.initData()},changeWeek:function(t,e){var n=new Date(this.iosTransDate(t)),a=864e5,i=n.getDay(),o=n.getTime()-(i-1)*a,r=n.getTime()+(7-i)*a;return"add"==e?(this.nowDay=new Date(n.getTime()+7*a),[o+7*a,r+7*a]):(this.nowDay=new Date(n.getTime()-7*a),[o-7*a,r-7*a])},backClick:function(){t.redirectTo({url:"../mykq/mykq"})}}};e.default=i}).call(this,n("543d")["default"])},fee3:function(t,e,n){"use strict";n.r(e);var a=n("9225"),i=n("0c03");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("e462");var r=n("f0c5"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"29340d4c",null,!1,a["a"],void 0);e["default"]=s.exports}},[["8bb8","common/runtime","common/vendor","pageKq/common/vendor"]]]);